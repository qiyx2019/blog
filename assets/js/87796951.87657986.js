"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9515],{3905:function(e,n,t){t.d(n,{Zo:function(){return o},kt:function(){return d}});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},c=Object.keys(e);for(l=0;l<c.length;l++)t=c[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)t=c[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var r=l.createContext({}),i=function(e){var n=l.useContext(r),t=n;return e&&(t="function"==typeof e?e(n):u(u({},n),e)),t},o=function(e){var n=i(e.components);return l.createElement(r.Provider,{value:n},e.children)},h={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},s=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,r=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),s=i(t),d=a,k=s["".concat(r,".").concat(d)]||s[d]||h[d]||c;return t?l.createElement(k,u(u({ref:n},o),{},{components:t})):l.createElement(k,u({ref:n},o))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,u=new Array(c);u[0]=s;var p={};for(var r in n)hasOwnProperty.call(n,r)&&(p[r]=n[r]);p.originalType=e,p.mdxType="string"==typeof e?e:a,u[1]=p;for(var i=2;i<c;i++)u[i]=t[i];return l.createElement.apply(null,u)}return l.createElement.apply(null,t)}s.displayName="MDXCreateElement"},4738:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return r},default:function(){return s},frontMatter:function(){return p},metadata:function(){return i},toc:function(){return o}});var l=t(7462),a=t(3366),c=(t(7294),t(3905)),u=["components"],p={title:"webpack\uff1a\u5982\u4f55\u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898"},r=void 0,i={unversionedId:"webpack/2018-10-09-webpack-caching",id:"webpack/2018-10-09-webpack-caching",title:"webpack\uff1a\u5982\u4f55\u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898",description:"\u5728\u8fd9\u7bc7\u6587\u7ae0\u91cc\u4f1a\u4ecb\u7ecd\u600e\u4e48\u5728webpack\u4e2d\u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898\u3002",source:"@site/docs/webpack/2018-10-09-webpack-caching.md",sourceDirName:"webpack",slug:"/webpack/2018-10-09-webpack-caching",permalink:"/blog/docs/webpack/2018-10-09-webpack-caching",tags:[],version:"current",frontMatter:{title:"webpack\uff1a\u5982\u4f55\u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898"},sidebar:"webpack",previous:{title:"\u4ee3\u7801\u5207\u5272",permalink:"/blog/docs/webpack/2018-10-07-webpack-code-splitting"},next:{title:"webpack\uff1a\u4f18\u5316\u6253\u5305CSS\u6587\u4ef6",permalink:"/blog/docs/webpack/2018-10-10-webpack-css-extract"}},o=[{value:"\u7f13\u5b58",id:"\u7f13\u5b58",children:[],level:2},{value:"chunkhash",id:"chunkhash",children:[],level:2},{value:"hash",id:"hash",children:[],level:2},{value:"hash\u4e0echunkhash\u7684\u533a\u522b\uff1a",id:"hash\u4e0echunkhash\u7684\u533a\u522b",children:[],level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",children:[],level:2}],h={toc:o};function s(e){var n=e.components,p=(0,a.Z)(e,u);return(0,c.kt)("wrapper",(0,l.Z)({},h,p,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("p",null,"\u5728\u8fd9\u7bc7\u6587\u7ae0\u91cc\u4f1a\u4ecb\u7ecd\u600e\u4e48\u5728webpack\u4e2d\u89e3\u51b3\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898\u3002"),(0,c.kt)("blockquote",null,(0,c.kt)("p",null,"\u8fd9\u7bc7\u6587\u7ae0\u662f\u57fa\u4e8e webpack3.10.0"),(0,c.kt)("p",null,"\u9ed8\u8ba4\u6253\u5305\u7684\u65f6\u5019\u662f\u76f4\u63a5\u628aCSS inline\u5230bundle\u6587\u4ef6\u91cc\u9762")),(0,c.kt)("h2",{id:"\u7f13\u5b58"},"\u7f13\u5b58"),(0,c.kt)("p",null,"webpack\u6253\u5305\u4ee5\u540e\u7684\u6587\u4ef6\u4e00\u822c\u90fd\u662f\uff1aapp.bundle.js\u3001vendor.bundle.js\uff0c\u6bcf\u6b21\u53d1\u5e03\u4ee5\u540e\uff0c\u5982\u679c\u7528\u6237\u6d4f\u89c8\u5668\u7f13\u5b58\u6ca1\u6709\u8fc7\u671f\uff0c\u52a0\u4e0a\u6587\u4ef6\u540d\u5b57\u76f8\u540c\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6700\u65b0\u6587\u4ef6\uff0c\u5bfc\u81f4\u7528\u6237\u4e0d\u80fd\u770b\u5230\u65b0\u53d1\u5e03\u7684\u529f\u80fd\u3002"),(0,c.kt)("p",null,(0,c.kt)("strong",{parentName:"p"},"\u8fd9\u5c31\u662f\u6211\u4eec\u6240\u8bf4\u7684\u6d4f\u89c8\u5668\u7f13\u5b58\u95ee\u9898\u3002")),(0,c.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\u5c31\u662f\uff0c\u6bcf\u6b21\u5982\u679c\u6587\u4ef6\u6709\u6539\u52a8\uff0c\u90a3\u4e48\u5728\u53d1\u5e03\u7684\u65f6\u5019\uff0c\u5c31\u8ba9\u5bf9\u5e94bundle\u6587\u4ef6\u540d\u4e0d\u4e00\u6837\u3002\u8fd9\u6837\uff0c\u4e0d\u7ba1\u6d4f\u89c8\u5668\u7f13\u5b58\u8fc7\u6ca1\u8fc7\u671f\uff0c\u90fd\u4f1a\u5f3a\u5236\u6d4f\u89c8\u5668\u4ece\u670d\u52a1\u5668\u62ff\u6700\u65b0\u4ee3\u7801\u3002"),(0,c.kt)("p",null,"\u6309\u7167\u8fd9\u4e2a\u601d\u8def\uff0c\u4e00\u65e6\u6709\u6587\u4ef6\u6539\u52a8\uff0c\u4e0d\u7ba1\u662fts\uff0cjs\uff0cimg\u8fd8\u662fcss\u6587\u4ef6\u6709\u6539\u52a8\uff0c\u6253\u5305\u7684\u65f6\u5019\uff0c\u5bf9\u5e94\u7684bundle\u6587\u4ef6\u540d\u4e5f\u8981\u6709\u53d8\u5316\u3002\u624d\u80fd\u5f3a\u5236\u6d4f\u89c8\u5668\u53bb\u670d\u52a1\u5668\u62ff\u6700\u65b0\u6587\u4ef6\uff0c\u4ece\u800c\u89e3\u51b3\u7f13\u5b58\u95ee\u9898\u3002"),(0,c.kt)("h2",{id:"chunkhash"},"chunkhash"),(0,c.kt)("p",null,"\u5728webpack\u4e2d\uff0cbuild\u751f\u6210bundle\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5728bundle\u6587\u4ef6\u540d\u4e2d\u52a0\u4e0ahashcode\uff0c\u4e00\u65e6\u6709\u6539\u52a8\uff0c\u90a3\u4e48bundle\u6587\u4ef6\u540d\u4e2d\u7684hashcode\u4e5f\u4e0d\u4e00\u6837\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u6bcf\u6b21\u53d1\u5e03\uff0cbundle\u6587\u4ef6\u540d\u4e0d\u4e00\u6837\u3002"),(0,c.kt)("blockquote",null,(0,c.kt)("p",null,"\u52a0\u4e0ahashcode\u4ee5\u540e\u7684bundle\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,c.kt)("p",null,"app.f68357fc8e99ece57afe.bundle.js"),(0,c.kt)("p",null,"vendor.0d5cad4949ab26faaa39.bundle.js")),(0,c.kt)("p",null,"\u5177\u4f53\u7528\u6cd5\u662f\u5728webpack\u914d\u7f6e\u6587\u4ef6\u7684output filename\u4e2d\u52a0\u4e0a ",(0,c.kt)("inlineCode",{parentName:"p"},"[chunkhash]"),"\uff1a"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},"  //webpack.prod.js\n  output: {\n    path: path.join(process.cwd(), 'dist'),\n    publicPath: \"/dist/\",\n    filename: 'js/[name].[chunkhash].bundle.js',\n  }\n")),(0,c.kt)("p",null,"\u5728terminal \u8dd1\u547d\u4ee4\u884c",(0,c.kt)("inlineCode",{parentName:"p"},"npm run build:prod"),"\u4e4b\u540e\u751f\u6210\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,c.kt)("p",null,(0,c.kt)("img",{alt:"webpack-caching-chunkhash",src:t(2269).Z,width:"952",height:"176"}),'{:height="100%" width="100%"}'),(0,c.kt)("blockquote",null,(0,c.kt)("p",null,"\u91cc\u9762\u6709\u5982\u4e0b\u4e09\u4e2a\u6587\u4ef6\uff0c\u662f\u56e0\u4e3a\u7528\u5230angular lazy loading\u6240\u4ea7\u751f\u7684chunk\u6587\u4ef6\uff1a"),(0,c.kt)("p",null,"0.068716ea07094f619891.bundle.js"),(0,c.kt)("p",null,"1.3392ab62515e716550b2.bundle.js"),(0,c.kt)("p",null,"2.f69ff655a0890c6a5b91.bundle.js")),(0,c.kt)("p",null,"\u9664\u4e86\u7528chunkhash\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528hash"),(0,c.kt)("h2",{id:"hash"},"hash"),(0,c.kt)("p",null,"\u628aoutput filename\u4e2d\u7684",(0,c.kt)("inlineCode",{parentName:"p"},"chunkhash"),"\u6539\u4e3a",(0,c.kt)("inlineCode",{parentName:"p"},"hash"),"\uff1a"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},"  //webpack.prod.js\n  output: {\n    path: path.join(process.cwd(), 'dist'),\n    publicPath: \"/dist/\",\n    filename: 'js/[name].[hash].bundle.js',\n  }\n")),(0,c.kt)("p",null,"\u5728terminal\u8dd1\u547d\u4ee4\u884c",(0,c.kt)("inlineCode",{parentName:"p"},"npm run build:prod"),"\u4e4b\u540e\u751f\u6210\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,c.kt)("p",null,(0,c.kt)("img",{alt:"webpack-caching-hash",src:t(7602).Z,width:"886",height:"207"}),'{:height="100%" width="100%"}'),(0,c.kt)("p",null,"\u4ece\u6700\u7ec8bundle\u6587\u4ef6\u540d\u53ef\u4ee5\u770b\u51fa\uff0c\u6240\u6709bundle\u6587\u4ef6hashcode\u90fd\u662f\u4e00\u6837\u7684\u3002"),(0,c.kt)("p",null,"\u6211\u4eec\u6765\u6d4b\u8bd5\u4e0b\uff1a\u6539\u52a8app.component.html\u6587\u4ef6\uff0c\u4f7f\u7528",(0,c.kt)("inlineCode",{parentName:"p"},"hash"),"\u7684\u65b9\u5f0f\uff0c\u91cd\u65b0build\u4ee5\u540e\uff0cbundle\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,c.kt)("blockquote",null,(0,c.kt)("p",null," 0.64de26c53b0cd5ce3331.bundle.js  "),(0,c.kt)("p",null," 1.64de26c53b0cd5ce3331.bundle.js  "),(0,c.kt)("p",null," 2.64de26c53b0cd5ce3331.bundle.js   "),(0,c.kt)("p",null," vendor.64de26c53b0cd5ce3331.bundle.js  "),(0,c.kt)("p",null," app.64de26c53b0cd5ce3331.bundle.js  "),(0,c.kt)("p",null," polyfills.64de26c53b0cd5ce3331.bundle.js  ")),"\u6240\u6709\u7684bundle\u6587\u4ef6\u540d\u90fd\u6539\u4e86\uff0c\u4f46hashcode\u90fd\u4e00\u6837\u3002",(0,c.kt)("p",null,"\u4f7f\u7528",(0,c.kt)("inlineCode",{parentName:"p"},"chunkhash"),"\u65b9\u5f0f\uff0c\u91cd\u65b0build\u4ee5\u540e\uff0cbundle\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,c.kt)("blockquote",null,(0,c.kt)("p",null,"0.068716ea07094f619891.bundle.js"),(0,c.kt)("p",null,"1.3392ab62515e716550b2.bundle.js"),(0,c.kt)("p",null,"2.f69ff655a0890c6a5b91.bundle.js"),(0,c.kt)("p",null,"vendor.0d5cad4949ab26faaa39.bundle.js "),(0,c.kt)("p",null,"app.c33736260b829570e8ba.bundle.js "),(0,c.kt)("p",null,"polyfills.9d98b7f13680b7f15ee4.bundle.js ")),(0,c.kt)("p",null,"\u4ece\u6700\u7ec8bundle\u6587\u4ef6\u540d\u53ef\u4ee5\u770b\u51fa\uff0c\u53ea\u6709app.bundle\u6587\u4ef6\u7684",(0,c.kt)("inlineCode",{parentName:"p"},"hashcode"),"\u6709\u6539\u52a8\uff0c\u5176\u4ed6\u7684\u90fd\u8ddf\u4e0a\u4e00\u6b21",(0,c.kt)("inlineCode",{parentName:"p"},"contenthash"),"\u65b9\u5f0f\u7f16\u8bd1\u7ed3\u679c\u4e00\u81f4\u3002"),(0,c.kt)("h2",{id:"hash\u4e0echunkhash\u7684\u533a\u522b"},"hash\u4e0echunkhash\u7684\u533a\u522b\uff1a"),(0,c.kt)("ol",null,(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"hash \u662f\u7528\u6765\u7ed9\u672c\u6b21build\u8ba1\u7b97hashcode\uff0c\u6240\u6709\u7684\u7f16\u8bd1\u7ed3\u679c\u6587\u4ef6\u4e2d\u7684hashcode\u90fd\u4f1a\u4e00\u6837\u3002")),(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"chunkhash \u662f\u7528\u6765\u7ed9\u6bcf\u4e2aentry file\u8ba1\u7b97hashcode\uff0c\u6bcf\u4e2a\u7f16\u8bd1\u7ed3\u679c\u6587\u4ef6\u4e2d\u7684hashcode\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\u3002\u800c\u4e14entry file\u4efb\u4e00\u6587\u4ef6\u6539\u52a8\uff0c\u5bf9\u5e94\u7684bundle\u6587\u4ef6hashcode\u4e5f\u4f1a\u6539\u52a8\uff0c\u5426\u5219\u5c31\u4fdd\u6301\u4e0d\u53d8\u3002"))),(0,c.kt)("blockquote",null,(0,c.kt)("p",null,(0,c.kt)("font",{color:"#BF1827"},"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1ahash \u6216 chunkhash\u6700\u597d\u53ea\u7528\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u5982\u679c\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u7528\uff0c\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u53d8\u6162\u3002"))),(0,c.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,c.kt)("p",null,"\u8fd9\u7bc7\u6587\u7ae0\u4e3b\u8981\u662f\u4ecb\u7ecd\u4e86\uff0chash \u548c chunkhash\u7684\u57fa\u672c\u7528\u6cd5\uff0c\u9ed8\u8ba4\u6253\u5305\u7684\u65f6\u5019\u662f\u76f4\u63a5\u628aCSS inline\u5230bundle\u6587\u4ef6\u91cc\u9762\u3002"),(0,c.kt)("p",null,"\u6211\u4eec\u77e5\u9053CSS\u5728\u9879\u76ee\u91cc\u9762\u6539\u52a8\u7684\u6b21\u6570\u4e0d\u591a\uff0c\u6bcf\u6b21\u90fdinline\u5230bundle\u6587\u4ef6\u91cc\uff0c\u4f1a\u6709\u4ee5\u4e0b\u95ee\u9898\uff1a"),(0,c.kt)("ol",null,(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"\u5982\u679c\u672c\u8eabCSS\u6587\u4ef6\u5c31\u5f88\u5927\uff0c\u4f1a\u5bfc\u81f4bundle\u6587\u4ef6\u8fc7\u5927")),(0,c.kt)("li",{parentName:"ol"},(0,c.kt)("p",{parentName:"li"},"\u4efb\u4f55\u4e00\u6b21\u975eCSS\u4ee3\u7801\u6539\u52a8\uff0c\u53d1\u5e03\u4ee5\u540e\u5ba2\u6237\u7aef\u4f1a\u91cd\u65b0\u4e0b\u8f7d\u6587\u4ef6\uff0c\u867d\u7136CSS\u6ca1\u6709\u53d8\u5316\uff0c\u4f46\u662f\u9700\u8981\u6bcf\u6b21\u8ddfbudnle\u6587\u4ef6\u4e00\u8d77\u4e0b\u8f7d"))),(0,c.kt)("p",null,"\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f"),(0,c.kt)("p",null,"\u5728","[webpack\uff1a\u4f18\u5316\u6253\u5305CSS\u6587\u4ef6]","\u3011\u6587\u7ae0\u4e2d\u4f1a\u7ed3\u5408ExtractTextPlugin\u548cCSS\u4ecb\u7ecd\u66f4\u5168\u9762\u7684\u89e3\u51b3\u7f13\u5b58\u95ee\u9898\u65b9\u6848\u3002"))}s.isMDXComponent=!0},2269:function(e,n,t){n.Z=t.p+"assets/images/webpack-caching-chunkhash-c4404abdb4f066eefa6e9522f4cca90f.png"},7602:function(e,n,t){n.Z=t.p+"assets/images/webpack-caching-hash-52376f2f01798a9b6a9434428ea24b50.png"}}]);