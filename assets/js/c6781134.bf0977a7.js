"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[59],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),d=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},c=function(e){var t=d(e.components);return r.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},y=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),y=d(n),u=a,m=y["".concat(o,".").concat(u)]||y[u]||s[u]||i;return n?r.createElement(m,p(p({ref:t},c),{},{components:n})):r.createElement(m,p({ref:t},c))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,p=new Array(i);p[0]=y;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:a,p[1]=l;for(var d=2;d<i;d++)p[d]=n[d];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}y.displayName="MDXCreateElement"},9973:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return c},default:function(){return y}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),p=["components"],l={},o="\u5b9e\u7528\u5de5\u5177\u7c7b\u578b",d={unversionedId:"ts/reference/utility-types",id:"ts/reference/utility-types",title:"\u5b9e\u7528\u5de5\u5177\u7c7b\u578b",description:"TypeScript \u63d0\u4f9b\u4e00\u4e9b\u5de5\u5177\u7c7b\u578b\u6765\u5e2e\u52a9\u5e38\u89c1\u7684\u7c7b\u578b\u8f6c\u6362\u3002\u8fd9\u4e9b\u7c7b\u578b\u662f\u5168\u5c40\u53ef\u89c1\u7684\u3002",source:"@site/docs/ts/reference/utility-types.md",sourceDirName:"ts/reference",slug:"/ts/reference/utility-types",permalink:"/blog/docs/ts/reference/utility-types",tags:[],version:"current",frontMatter:{},sidebar:"ts",previous:{title:"\u7c7b\u578b\u63a8\u8bba",permalink:"/blog/docs/ts/reference/type-inference"},next:{title:"\u53d8\u91cf\u58f0\u660e",permalink:"/blog/docs/ts/reference/variable-declarations"}},c=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",children:[],level:2},{value:"<code>Partial&lt;Type&gt;</code>",id:"partialtype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50",children:[],level:3}],level:2},{value:"<code>Readonly&lt;Type&gt;</code>",id:"readonlytype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-1",children:[],level:3},{value:"<code>Object.freeze</code>",id:"objectfreeze",children:[],level:3}],level:2},{value:"<code>Record&lt;Keys, Type&gt;</code>",id:"recordkeys-type",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-2",children:[],level:3}],level:2},{value:"<code>Pick&lt;Type, Keys&gt;</code>",id:"picktype-keys",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-3",children:[],level:3}],level:2},{value:"<code>Omit&lt;Type, Keys&gt;</code>",id:"omittype-keys",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-4",children:[],level:3}],level:2},{value:"<code>Exclude&lt;Type, ExcludedUnion&gt;</code>",id:"excludetype-excludedunion",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-5",children:[],level:3}],level:2},{value:"<code>Extract&lt;Type, Union&gt;</code>",id:"extracttype-union",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-6",children:[],level:3}],level:2},{value:"<code>NonNullable&lt;Type&gt;</code>",id:"nonnullabletype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-7",children:[],level:3}],level:2},{value:"<code>Parameters&lt;Type&gt;</code>",id:"parameterstype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-8",children:[],level:3}],level:2},{value:"<code>ConstructorParameters&lt;Type&gt;</code>",id:"constructorparameterstype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-9",children:[],level:3}],level:2},{value:"<code>ReturnType&lt;Type&gt;</code>",id:"returntypetype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-10",children:[],level:3}],level:2},{value:"<code>InstanceType&lt;Type&gt;</code>",id:"instancetypetype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-11",children:[],level:3}],level:2},{value:"<code>Required&lt;Type&gt;</code>",id:"requiredtype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-12",children:[],level:3}],level:2},{value:"<code>ThisParameterType&lt;Type&gt;</code>",id:"thisparametertypetype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-13",children:[],level:3}],level:2},{value:"<code>OmitThisParameter&lt;Type&gt;</code>",id:"omitthisparametertype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-14",children:[],level:3}],level:2},{value:"<code>ThisType&lt;Type&gt;</code>",id:"thistypetype",children:[{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50-15",children:[],level:3}],level:2},{value:"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b",id:"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b",children:[],level:2}],s={toc:c};function y(e){var t=e.components,n=(0,a.Z)(e,p);return(0,i.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u5b9e\u7528\u5de5\u5177\u7c7b\u578b"},"\u5b9e\u7528\u5de5\u5177\u7c7b\u578b"),(0,i.kt)("p",null,"TypeScript \u63d0\u4f9b\u4e00\u4e9b\u5de5\u5177\u7c7b\u578b\u6765\u5e2e\u52a9\u5e38\u89c1\u7684\u7c7b\u578b\u8f6c\u6362\u3002\u8fd9\u4e9b\u7c7b\u578b\u662f\u5168\u5c40\u53ef\u89c1\u7684\u3002"),(0,i.kt)("h2",{id:"\u76ee\u5f55"},"\u76ee\u5f55"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#partialtype"},(0,i.kt)("inlineCode",{parentName:"a"},"Partial<T>"),"\uff0cTypeScript 2.1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#readonlytype"},(0,i.kt)("inlineCode",{parentName:"a"},"Readonly<Type>"),"\uff0cTypeScript 2.1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#recordkeys-type"},(0,i.kt)("inlineCode",{parentName:"a"},"Record<Keys, Type>"),"\uff0cTypeScript 2.1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#picktype-keys"},(0,i.kt)("inlineCode",{parentName:"a"},"Pick<Type, Keys>"),"\uff0cTypeScript 2.1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#omittype-keys"},(0,i.kt)("inlineCode",{parentName:"a"},"Omit<Type, Keys>"),"\uff0cTypeScript 3.5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#excludetype-excludedunion"},(0,i.kt)("inlineCode",{parentName:"a"},"Exclude<Type, ExcludedUnion>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#extracttype-union"},(0,i.kt)("inlineCode",{parentName:"a"},"Extract<Type, Union>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#nonnullabletype"},(0,i.kt)("inlineCode",{parentName:"a"},"NonNullable<Type>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#parameterstype"},(0,i.kt)("inlineCode",{parentName:"a"},"Parameters<Type>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#constructorparameterstype"},(0,i.kt)("inlineCode",{parentName:"a"},"ConstructorParameters<Type>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#returntypetype"},(0,i.kt)("inlineCode",{parentName:"a"},"ReturnType<Type>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#instancetypetype"},(0,i.kt)("inlineCode",{parentName:"a"},"InstanceType<Type>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#requiredtype"},(0,i.kt)("inlineCode",{parentName:"a"},"Required<Type>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#thisparametertypetype"},(0,i.kt)("inlineCode",{parentName:"a"},"ThisParameterType<Type>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#omitthisparametertype"},(0,i.kt)("inlineCode",{parentName:"a"},"OmitThisParameter<Type>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#thistypetype"},(0,i.kt)("inlineCode",{parentName:"a"},"ThisType<Type>"),"\uff0cTypeScript 2.8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#%E6%93%8D%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%B1%BB%E5%9E%8B"},"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b"))),(0,i.kt)("h2",{id:"partialtype"},(0,i.kt)("inlineCode",{parentName:"h2"},"Partial<Type>")),(0,i.kt)("p",null,"\u6784\u9020\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\uff0c\u5e76\u5c06\u5b83\u6240\u6709\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u53ef\u9009\u7684\u3002\u5b83\u7684\u8fd4\u56de\u7c7b\u578b\u8868\u793a\u8f93\u5165\u7c7b\u578b\u7684\u6240\u6709\u5b50\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Todo {\n    title: string;\n    description: string;\n}\n\nfunction updateTodo(todo: Todo, fieldsToUpdate: Partial<Todo>) {\n    return { ...todo, ...fieldsToUpdate };\n}\n\nconst todo1 = {\n    title: 'organize desk',\n    description: 'clear clutter',\n};\n\nconst todo2 = updateTodo(todo1, {\n    description: 'throw out trash',\n});\n")),(0,i.kt)("h2",{id:"readonlytype"},(0,i.kt)("inlineCode",{parentName:"h2"},"Readonly<Type>")),(0,i.kt)("p",null,"\u6784\u9020\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\uff0c\u5e76\u5c06\u5b83\u6240\u6709\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"readonly"),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u6784\u9020\u51fa\u7684\u7c7b\u578b\u7684\u5c5e\u6027\u4e0d\u80fd\u88ab\u518d\u6b21\u8d4b\u503c\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-1"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Todo {\n    title: string;\n}\n\nconst todo: Readonly<Todo> = {\n    title: 'Delete inactive users',\n};\n\ntodo.title = 'Hello'; // Error: cannot reassign a readonly property\n")),(0,i.kt)("p",null,"\u8fd9\u4e2a\u5de5\u5177\u53ef\u7528\u6765\u8868\u793a\u5728\u8fd0\u884c\u65f6\u4f1a\u5931\u8d25\u7684\u8d4b\u503c\u8868\u8fbe\u5f0f\uff08\u6bd4\u5982\uff0c\u5f53\u5c1d\u8bd5\u7ed9",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze"},"\u51bb\u7ed3\u5bf9\u8c61"),"\u7684\u5c5e\u6027\u518d\u6b21\u8d4b\u503c\u65f6\uff09\u3002"),(0,i.kt)("h3",{id:"objectfreeze"},(0,i.kt)("inlineCode",{parentName:"h3"},"Object.freeze")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"function freeze<T>(obj: T): Readonly<T>;\n")),(0,i.kt)("h2",{id:"recordkeys-type"},(0,i.kt)("inlineCode",{parentName:"h2"},"Record<Keys, Type>")),(0,i.kt)("p",null,"\u6784\u9020\u4e00\u4e2a\u7c7b\u578b\uff0c\u5176\u5c5e\u6027\u540d\u7684\u7c7b\u578b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"K"),"\uff0c\u5c5e\u6027\u503c\u7684\u7c7b\u578b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"T"),"\u3002\u8fd9\u4e2a\u5de5\u5177\u53ef\u7528\u6765\u5c06\u67d0\u4e2a\u7c7b\u578b\u7684\u5c5e\u6027\u6620\u5c04\u5230\u53e6\u4e00\u4e2a\u7c7b\u578b\u4e0a\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-2"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface PageInfo {\n    title: string;\n}\n\ntype Page = 'home' | 'about' | 'contact';\n\nconst x: Record<Page, PageInfo> = {\n    about: { title: 'about' },\n    contact: { title: 'contact' },\n    home: { title: 'home' },\n};\n")),(0,i.kt)("h2",{id:"picktype-keys"},(0,i.kt)("inlineCode",{parentName:"h2"},"Pick<Type, Keys>")),(0,i.kt)("p",null,"\u4ece\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e2d\u6311\u9009\u90e8\u5206\u5c5e\u6027",(0,i.kt)("inlineCode",{parentName:"p"},"Keys"),"\u6765\u6784\u9020\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-3"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Todo {\n    title: string;\n    description: string;\n    completed: boolean;\n}\n\ntype TodoPreview = Pick<Todo, 'title' | 'completed'>;\n\nconst todo: TodoPreview = {\n    title: 'Clean room',\n    completed: false,\n};\n")),(0,i.kt)("h2",{id:"omittype-keys"},(0,i.kt)("inlineCode",{parentName:"h2"},"Omit<Type, Keys>")),(0,i.kt)("p",null,"\u4ece\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e2d\u83b7\u53d6\u6240\u6709\u5c5e\u6027\uff0c\u7136\u540e\u4ece\u4e2d\u5254\u9664",(0,i.kt)("inlineCode",{parentName:"p"},"Keys"),"\u5c5e\u6027\u540e\u6784\u9020\u4e00\u4e2a\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-4"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Todo {\n    title: string;\n    description: string;\n    completed: boolean;\n}\n\ntype TodoPreview = Omit<Todo, 'description'>;\n\nconst todo: TodoPreview = {\n    title: 'Clean room',\n    completed: false,\n};\n")),(0,i.kt)("h2",{id:"excludetype-excludedunion"},(0,i.kt)("inlineCode",{parentName:"h2"},"Exclude<Type, ExcludedUnion>")),(0,i.kt)("p",null,"\u4ece\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e2d\u5254\u9664\u6240\u6709\u53ef\u4ee5\u8d4b\u503c\u7ed9",(0,i.kt)("inlineCode",{parentName:"p"},"ExcludedUnion"),"\u7684\u5c5e\u6027\uff0c\u7136\u540e\u6784\u9020\u4e00\u4e2a\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-5"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"type T0 = Exclude<'a' | 'b' | 'c', 'a'>; // \"b\" | \"c\"\ntype T1 = Exclude<'a' | 'b' | 'c', 'a' | 'b'>; // \"c\"\ntype T2 = Exclude<string | number | (() => void), Function>; // string | number\n")),(0,i.kt)("h2",{id:"extracttype-union"},(0,i.kt)("inlineCode",{parentName:"h2"},"Extract<Type, Union>")),(0,i.kt)("p",null,"\u4ece\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e2d\u63d0\u53d6\u6240\u6709\u53ef\u4ee5\u8d4b\u503c\u7ed9",(0,i.kt)("inlineCode",{parentName:"p"},"Union"),"\u7684\u7c7b\u578b\uff0c\u7136\u540e\u6784\u9020\u4e00\u4e2a\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-6"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"type T0 = Extract<'a' | 'b' | 'c', 'a' | 'f'>; // \"a\"\ntype T1 = Extract<string | number | (() => void), Function>; // () => void\n")),(0,i.kt)("h2",{id:"nonnullabletype"},(0,i.kt)("inlineCode",{parentName:"h2"},"NonNullable<Type>")),(0,i.kt)("p",null,"\u4ece\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e2d\u5254\u9664",(0,i.kt)("inlineCode",{parentName:"p"},"null"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u7136\u540e\u6784\u9020\u4e00\u4e2a\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-7"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"type T0 = NonNullable<string | number | undefined>; // string | number\ntype T1 = NonNullable<string[] | null | undefined>; // string[]\n")),(0,i.kt)("h2",{id:"parameterstype"},(0,i.kt)("inlineCode",{parentName:"h2"},"Parameters<Type>")),(0,i.kt)("p",null,"\u7531\u51fd\u6570\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7684\u53c2\u6570\u7c7b\u578b\u6765\u6784\u5efa\u51fa\u4e00\u4e2a\u5143\u7ec4\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-8"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"declare function f1(arg: { a: number; b: string }): void;\n\ntype T0 = Parameters<() => string>;\n//    []\ntype T1 = Parameters<(s: string) => void>;\n//    [s: string]\ntype T2 = Parameters<<T>(arg: T) => T>;\n//    [arg: unknown]\ntype T3 = Parameters<typeof f1>;\n//    [arg: { a: number; b: string; }]\ntype T4 = Parameters<any>;\n//    unknown[]\ntype T5 = Parameters<never>;\n//    never\ntype T6 = Parameters<string>;\n//   never\n//   Type 'string' does not satisfy the constraint '(...args: any) => any'.\ntype T7 = Parameters<Function>;\n//   never\n//   Type 'Function' does not satisfy the constraint '(...args: any) => any'.\n")),(0,i.kt)("h2",{id:"constructorparameterstype"},(0,i.kt)("inlineCode",{parentName:"h2"},"ConstructorParameters<Type>")),(0,i.kt)("p",null,"\u7531\u6784\u9020\u51fd\u6570\u7c7b\u578b\u6765\u6784\u5efa\u51fa\u4e00\u4e2a\u5143\u7ec4\u7c7b\u578b\u6216\u6570\u7ec4\u7c7b\u578b\u3002\n\u7531\u6784\u9020\u51fd\u6570\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7684\u53c2\u6570\u7c7b\u578b\u6765\u6784\u5efa\u51fa\u4e00\u4e2a\u5143\u7ec4\u7c7b\u578b\u3002\uff08\u82e5",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u4e0d\u662f\u6784\u9020\u51fd\u6570\u7c7b\u578b\uff0c\u5219\u8fd4\u56de",(0,i.kt)("inlineCode",{parentName:"p"},"never"),"\uff09\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-9"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"type T0 = ConstructorParameters<ErrorConstructor>;\n//    [message?: string | undefined]\ntype T1 = ConstructorParameters<FunctionConstructor>;\n//    string[]\ntype T2 = ConstructorParameters<RegExpConstructor>;\n//    [pattern: string | RegExp, flags?: string | undefined]\ntype T3 = ConstructorParameters<any>;\n//   unknown[]\n\ntype T4 = ConstructorParameters<Function>;\n//    never\n// Type 'Function' does not satisfy the constraint 'new (...args: any) => any'.\n")),(0,i.kt)("h2",{id:"returntypetype"},(0,i.kt)("inlineCode",{parentName:"h2"},"ReturnType<Type>")),(0,i.kt)("p",null,"\u7531\u51fd\u6570\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u6784\u5efa\u4e00\u4e2a\u65b0\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-10"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"type T0 = ReturnType<() => string>;  // string\ntype T1 = ReturnType<(s: string) => void>;  // void\ntype T2 = ReturnType<(<T>() => T)>;  // {}\ntype T3 = ReturnType<(<T extends U, U extends number[]>() => T)>;  // number[]\ntype T4 = ReturnType<typeof f1>;  // { a: number, b: string }\ntype T5 = ReturnType<any>;  // any\ntype T6 = ReturnType<never>;  // any\ntype T7 = ReturnType<string>;  // Error\ntype T8 = ReturnType<Function>;  // Error\n")),(0,i.kt)("h2",{id:"instancetypetype"},(0,i.kt)("inlineCode",{parentName:"h2"},"InstanceType<Type>")),(0,i.kt)("p",null,"\u7531\u6784\u9020\u51fd\u6570\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7684\u5b9e\u4f8b\u7c7b\u578b\u6765\u6784\u5efa\u4e00\u4e2a\u65b0\u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-11"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"class C {\n    x = 0;\n    y = 0;\n}\n\ntype T0 = InstanceType<typeof C>; // C\ntype T1 = InstanceType<any>; // any\ntype T2 = InstanceType<never>; // any\ntype T3 = InstanceType<string>; // Error\ntype T4 = InstanceType<Function>; // Error\n")),(0,i.kt)("h2",{id:"requiredtype"},(0,i.kt)("inlineCode",{parentName:"h2"},"Required<Type>")),(0,i.kt)("p",null,"\u6784\u5efa\u4e00\u4e2a\u7c7b\u578b\uff0c\u4f7f\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7684\u6240\u6709\u5c5e\u6027\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"required"),"\u3002\n\u4e0e\u6b64\u76f8\u53cd\u7684\u662f",(0,i.kt)("a",{parentName:"p",href:"#partialtype"},(0,i.kt)("inlineCode",{parentName:"a"},"Partial")),"\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-12"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Props {\n    a?: number;\n    b?: string;\n}\n\nconst obj: Props = { a: 5 }; // OK\n\nconst obj2: Required<Props> = { a: 5 }; // Error: property 'b' missing\n")),(0,i.kt)("h2",{id:"thisparametertypetype"},(0,i.kt)("inlineCode",{parentName:"h2"},"ThisParameterType<Type>")),(0,i.kt)("p",null,"\u4ece\u51fd\u6570\u7c7b\u578b\u4e2d\u63d0\u53d6 ",(0,i.kt)("a",{parentName:"p",href:"../base/functions#this%E5%8F%82%E6%95%B0"},"this")," \u53c2\u6570\u7684\u7c7b\u578b\u3002\n\u82e5\u51fd\u6570\u7c7b\u578b\u4e0d\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"p"},"this")," \u53c2\u6570\uff0c\u5219\u8fd4\u56de ",(0,i.kt)("a",{parentName:"p",href:"../base/basic-types#unknown"},"unknown")," \u7c7b\u578b\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-13"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function toHex(this: Number) {\n    return this.toString(16);\n}\n\nfunction numberToString(n: ThisParameterType<typeof toHex>) {\n    return toHex.apply(n);\n}\n")),(0,i.kt)("h2",{id:"omitthisparametertype"},(0,i.kt)("inlineCode",{parentName:"h2"},"OmitThisParameter<Type>")),(0,i.kt)("p",null,"\u4ece",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7c7b\u578b\u4e2d\u5254\u9664 ",(0,i.kt)("a",{parentName:"p",href:"../base/functions#this%E5%8F%82%E6%95%B0"},(0,i.kt)("inlineCode",{parentName:"a"},"this"))," \u53c2\u6570\u3002\n\u82e5\u672a\u58f0\u660e ",(0,i.kt)("inlineCode",{parentName:"p"},"this")," \u53c2\u6570\uff0c\u5219\u7ed3\u679c\u7c7b\u578b\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"Type")," \u3002\n\u5426\u5219\uff0c\u7531",(0,i.kt)("inlineCode",{parentName:"p"},"Type"),"\u7c7b\u578b\u6765\u6784\u5efa\u4e00\u4e2a\u4e0d\u5e26",(0,i.kt)("inlineCode",{parentName:"p"},"this"),"\u53c2\u6570\u7684\u7c7b\u578b\u3002\n\u6cdb\u578b\u4f1a\u88ab\u5ffd\u7565\uff0c\u5e76\u4e14\u53ea\u6709\u6700\u540e\u7684\u91cd\u8f7d\u7b7e\u540d\u4f1a\u88ab\u91c7\u7528\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-14"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function toHex(this: Number) {\n    return this.toString(16);\n}\n\nconst fiveToHex: OmitThisParameter<typeof toHex> = toHex.bind(5);\n\nconsole.log(fiveToHex());\n")),(0,i.kt)("h2",{id:"thistypetype"},(0,i.kt)("inlineCode",{parentName:"h2"},"ThisType<Type>")),(0,i.kt)("p",null,"\u8fd9\u4e2a\u5de5\u5177\u4e0d\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8f6c\u6362\u540e\u7684\u7c7b\u578b\u3002\n\u5b83\u505a\u4e3a\u4e0a\u4e0b\u6587\u7684",(0,i.kt)("a",{parentName:"p",href:"../base/functions#this"},(0,i.kt)("inlineCode",{parentName:"a"},"this")),"\u7c7b\u578b\u7684\u4e00\u4e2a\u6807\u8bb0\u3002\n\u6ce8\u610f\uff0c\u82e5\u60f3\u4f7f\u7528\u6b64\u7c7b\u578b\uff0c\u5fc5\u987b\u542f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"--noImplicitThis"),"\u3002"),(0,i.kt)("h3",{id:"\u4f8b\u5b50-15"},"\u4f8b\u5b50"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"// Compile with --noImplicitThis\n\ntype ObjectDescriptor<D, M> = {\n    data?: D;\n    methods?: M & ThisType<D & M>; // Type of 'this' in methods is D & M\n};\n\nfunction makeObject<D, M>(desc: ObjectDescriptor<D, M>): D & M {\n    let data: object = desc.data || {};\n    let methods: object = desc.methods || {};\n    return { ...data, ...methods } as D & M;\n}\n\nlet obj = makeObject({\n    data: { x: 0, y: 0 },\n    methods: {\n        moveBy(dx: number, dy: number) {\n            this.x += dx; // Strongly typed this\n            this.y += dy; // Strongly typed this\n        },\n    },\n});\n\nobj.x = 10;\nobj.y = 20;\nobj.moveBy(5, 5);\n")),(0,i.kt)("p",null,"\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"makeObject"),"\u53c2\u6570\u91cc\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"methods"),"\u5bf9\u8c61\u5177\u6709\u4e00\u4e2a\u4e0a\u4e0b\u6587\u7c7b\u578b",(0,i.kt)("inlineCode",{parentName:"p"},"ThisType<D & M>"),"\uff0c\u56e0\u6b64",(0,i.kt)("inlineCode",{parentName:"p"},"methods"),"\u5bf9\u8c61\u7684\u65b9\u6cd5\u91cc",(0,i.kt)("inlineCode",{parentName:"p"},"this"),"\u7684\u7c7b\u578b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"{ x: number, y: number } & { moveBy(dx: number, dy: number): number }"),"\u3002"),(0,i.kt)("p",null,"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"lib.d.ts"),"\u91cc\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"ThisType<T>"),"\u6807\u8bc6\u63a5\u53e3\u662f\u4e2a\u7b80\u5355\u7684\u7a7a\u63a5\u53e3\u58f0\u660e\u3002\u9664\u4e86\u5728\u88ab\u8bc6\u522b\u4e3a\u5bf9\u8c61\u5b57\u9762\u91cf\u7684\u4e0a\u4e0b\u6587\u7c7b\u578b\u4e4b\u5916\uff0c\u8fd9\u4e2a\u63a5\u53e3\u4e0e\u4e00\u822c\u7684\u7a7a\u63a5\u53e3\u6ca1\u6709\u4ec0\u4e48\u4e0d\u540c\u3002"),(0,i.kt)("h2",{id:"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b"},"\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b"),(0,i.kt)("p",null,"\u4e3a\u4e86\u4fbf\u4e8e\u64cd\u4f5c\u6a21\u7248\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\uff0cTypeScript \u5f15\u5165\u4e86\u4e00\u4e9b\u80fd\u591f\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u3002\n\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u9605\u8bfb",(0,i.kt)("a",{parentName:"p",href:"../base/template-literal-types#%E5%9B%BA%E6%9C%89%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B"},"\u6a21\u7248\u5b57\u9762\u91cf\u7c7b\u578b"),"\u3002"))}y.isMDXComponent=!0}}]);