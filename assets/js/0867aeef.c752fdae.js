"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1699],{3905:function(e,t,n){n.d(t,{Zo:function(){return o},kt:function(){return j}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),i=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},o=function(e){var t=i(e.components);return r.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,o=u(e,["components","mdxType","originalType","parentName"]),p=i(n),j=a,m=p["".concat(l,".").concat(j)]||p[j]||b[j]||s;return n?r.createElement(m,c(c({ref:t},o),{},{components:n})):r.createElement(m,c({ref:t},o))}));function j(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,c=new Array(s);c[0]=p;var u={};for(var l in t)hasOwnProperty.call(t,l)&&(u[l]=t[l]);u.originalType=e,u.mdxType="string"==typeof e?e:a,c[1]=u;for(var i=2;i<s;i++)c[i]=n[i];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3417:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return l},default:function(){return p},frontMatter:function(){return u},metadata:function(){return i},toc:function(){return o}});var r=n(7462),a=n(3366),s=(n(7294),n(3905)),c=["components"],u={title:"\u56db\u79cd Subject \u7684\u7528\u6cd5\u548c\u533a\u522b",sidebar_position:2},l=void 0,i={unversionedId:"rx/2019-07-25-rxjs-subject",id:"rx/2019-07-25-rxjs-subject",title:"\u56db\u79cd Subject \u7684\u7528\u6cd5\u548c\u533a\u522b",description:"\u5728 RxJS \u4e2d\u6709\u56db\u79cd Subject \u5206\u522b\u662f\uff1aSubject\uff0cBehaviorSubject\uff0cAsyncSubject\uff0cReplaySubject\uff1b\u8fd9\u56db\u79cd Subject \u90fd\u662f\u7279\u6b8a\u7684 Observable\u3002",source:"@site/docs/rx/2019-07-25-rxjs-subject.md",sourceDirName:"rx",slug:"/rx/2019-07-25-rxjs-subject",permalink:"/blog/docs/rx/2019-07-25-rxjs-subject",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"\u56db\u79cd Subject \u7684\u7528\u6cd5\u548c\u533a\u522b",sidebar_position:2},sidebar:"rx",previous:{title:"Cold vs Hot Observables",permalink:"/blog/docs/rx/2019-07-12-rxjs-coldhot-observable"},next:{title:"\u5982\u4f55\u901a\u8fc7 RxJS \u5b9e\u73b0\u7f13\u5b58",permalink:"/blog/docs/rx/2019-08-12-rxjs-caching"}},o=[{value:"Cold vs Hot",id:"cold-vs-hot",children:[],level:2},{value:"\u6570\u636e\u751f\u4ea7\u8005 vs \u6570\u636e\u6d88\u8d39\u8005",id:"\u6570\u636e\u751f\u4ea7\u8005-vs-\u6570\u636e\u6d88\u8d39\u8005",children:[],level:2},{value:"\u5355\u64ad vs \u591a\u64ad",id:"\u5355\u64ad-vs-\u591a\u64ad",children:[],level:2},{value:"BehaviorSubject",id:"behaviorsubject",children:[],level:2},{value:"ReplaySubject",id:"replaysubject",children:[],level:2},{value:"AsyncSubject",id:"asyncsubject",children:[],level:2}],b={toc:o};function p(e){var t=e.components,n=(0,a.Z)(e,c);return(0,s.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"\u5728 RxJS \u4e2d\u6709\u56db\u79cd Subject \u5206\u522b\u662f\uff1aSubject\uff0cBehaviorSubject\uff0cAsyncSubject\uff0cReplaySubject\uff1b\u8fd9\u56db\u79cd Subject \u90fd\u662f\u7279\u6b8a\u7684 Observable\u3002"),(0,s.kt)("p",null,"\u5728\u4ecb\u7ecd\u5b83\u4eec\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e0b\u8fd9\u56db\u79cd Subject \u4e0e\u666e\u901a Observable \u7684\u533a\u522b\uff1a"),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:"center"},"Observable"),(0,s.kt)("th",{parentName:"tr",align:"center"},"Subject"),(0,s.kt)("th",{parentName:"tr",align:"center"},"BehaviorSubject"),(0,s.kt)("th",{parentName:"tr",align:"center"},"AsyncSubject"),(0,s.kt)("th",{parentName:"tr",align:"center"},"ReplaySubject"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"center"},"Cold"),(0,s.kt)("td",{parentName:"tr",align:"center"},"Hot"),(0,s.kt)("td",{parentName:"tr",align:"center"},"Hot"),(0,s.kt)("td",{parentName:"tr",align:"center"},"Hot"),(0,s.kt)("td",{parentName:"tr",align:"center"},"Hot")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6570\u636e\u751f\u6210\u8005"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6570\u636e\u751f\u6210\u8005\u548c\u6d88\u8d39\u8005"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6570\u636e\u751f\u6210\u8005\u548c\u6d88\u8d39\u8005"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6570\u636e\u751f\u6210\u8005\u548c\u6d88\u8d39\u8005"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6570\u636e\u751f\u6210\u8005\u548c\u6d88\u8d39\u8005")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"center"},"\u5355\u64ad"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u591a\u64ad"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u591a\u64ad"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u591a\u64ad"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u591a\u64ad")),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6bcf\u6b21\u4ece\u5934\u5f00\u59cb\u628a\u503c\u53d1\u7ed9\u89c2\u5bdf\u8005"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u5c06\u503c\u591a\u64ad\u7ed9\u5df2\u6ce8\u518c\u76d1\u542c\u8be5 Subject \u7684\u89c2\u5bdf\u8005\u4eec"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u628a\u6700\u540e\u4e00\u4e2a\u503c\uff08\u5f53\u524d\u503c\uff09\u53d1\u9001\u7ed9\u89c2\u5bdf\u8005\uff08\u9700\u8981\u521d\u59cb\u503c\uff09"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u6267\u884c\u7684\u6700\u540e\u4e00\u4e2a\u503c\u53d1\u9001\u7ed9\u89c2\u5bdf\u8005\u76f8\u5f53\u4e8elast()"),(0,s.kt)("td",{parentName:"tr",align:"center"},"\u53ef\u4ee5\u628a\u4e4b\u524d\u7684\u503c\u53d1\u9001\u7ed9\u89c2\u5bdf\u8005\uff08\u9519\u8fc7\u7684\u503c\uff09")))),(0,s.kt)("h2",{id:"cold-vs-hot"},"Cold vs Hot"),(0,s.kt)("p",null,"\u5728\u6587\u7ae0","[RxJS\uff1aCold vs Hot Observables]","\u91cc\u8be6\u7ec6\u4ecb\u7ecd\u4e86 Cold Observables \u4e0e Hot Observables \u7684\u533a\u522b\uff0c\u9664\u4e86 Observable \u4e4b\u5916\uff0c\u8fd9\u56db\u79cd Subject \u90fd\u662f Hot Observables\u3002"),(0,s.kt)("h2",{id:"\u6570\u636e\u751f\u4ea7\u8005-vs-\u6570\u636e\u6d88\u8d39\u8005"},"\u6570\u636e\u751f\u4ea7\u8005 vs \u6570\u636e\u6d88\u8d39\u8005"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"\u6570\u636e\u751f\u4ea7\u8005"),"\u662f\u6307 Observable(\u53ef\u89c2\u5bdf\u5bf9\u8c61)\uff0c\u4ea7\u751f\u6570\u636e\u7684\u4e00\u65b9\u3002")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"\u6570\u636e\u6d88\u8d39\u8005"),"\u662f\u6307 Observers(\u89c2\u5bdf\u8005)\uff0c\u63a5\u6536\u6570\u636e\u7684\u4e00\u65b9\u3002")),(0,s.kt)("p",null,"\u666e\u901a\u7684 Observable \u53ea\u662f\u6570\u636e\u751f\u4ea7\u8005\uff0c\u53d1\u9001\u6570\u636e\u3002\u800c Subject\uff0cBehaviorSubject\uff0cAsyncSubject \u548c ReplaySubject \u5373\u662f\u751f\u4ea7\u8005\u53c8\u662f\u6d88\u8d39\u8005\u3002\u6bd4\u5982\u5728 Angular\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u7528 Subject \u5728\u591a\u4e2a component \u4e2d\u5171\u4eab\u6570\u636e\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"// messageService.ts\nprivate shareData: Subject<string> = new Subject<string>();\n\nsendData(value: string) {\n    this.shareData.next(value);\n}\ngetData(): Observable<string> {\n    return this.shareData.asObservable();\n}\n\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'// RxjsSubjectBComponent\n// send data from RxjsSubjectBComponent\n  this.messageService.sendData("this message from subject b");\n')),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"// RxjsSubjectCComponent\n// get data in RxjsSubjectCComponent\nthis.subscription = this.messageService.getData()\n    .subscribe(val => {\n        this.message = val;\n        console.log(val);\n    });\n")),(0,s.kt)("p",null,"\u5728\u8fd9\u4e24\u4e2a component \u4e2d\u901a\u8fc7\u5b9a\u4e49\u5728 messageService \u7684 Subject \u5171\u4eab\u6570\u636e\uff0c\u901a\u8fc7 next() \u65b9\u6cd5\u4f7f\u5f97 Subject \u662f\u6570\u636e\u751f\u4ea7\u8005\uff08\u53ef\u89c2\u5bdf\u5bf9\u8c61\uff09\uff0c\u901a\u8fc7 asObservable() \u4f7f\u5f97 Subject \u662f\u6570\u636e\u6d88\u8d39\u8005\uff08Observers\uff09\u3002"),(0,s.kt)("h2",{id:"\u5355\u64ad-vs-\u591a\u64ad"},"\u5355\u64ad vs \u591a\u64ad"),(0,s.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4f8b\u5b50\u4e2d\uff0c\u4e0d\u4ec5\u662f\u5728 component c \u53ef\u4ee5\u8ba2\u9605\u62ff\u5230\u6570\u636e\uff0c\u5728\u5176\u4ed6 component \u4e2d\u4e5f\u53ef\u4ee5\u8ba2\u9605\u62ff\u5230\u6570\u636e\u3002\u6bd4\u5982\u5728 RxjsSubjectAComponent \u4e2d\u5b9a\u4e49\u5982\u4e0b\u4ee3\u7801\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'// RxjsSubjectAComponent\n// get data in RxjsSubjectAComponent\nthis.subscription = this.messageService.getData()\n    .subscribe(val => {\n        console.log("this is in componet A and " + val);\n    })\n')),(0,s.kt)("p",null,"\u4ece RxjsSubjectBComponent \u53d1\u51fa\u503c\uff0c\u5728 RxjsSubjectCComponent \u548c RxjsSubjectAComponent \u80fd\u62ff\u5230\u540c\u6837\u7684\u503c\uff0c\u8fd9\u4e2a\u5c31\u662f\u591a\u64ad\u3002"),(0,s.kt)("p",null,"\u666e\u901a\u7684 Observables \u662f Cold Observables \u5e76\u4e14\u662f\u5355\u64ad\u7684\uff0c\u5176\u4ed6\u56db\u79cd Subject \u662f Hot Observables \u5e76\u4e14\u662f\u591a\u64ad\u7684\u3002"),(0,s.kt)("p",null,"\u5355\u64ad\u7684\u610f\u601d\u662f\uff0c\u6bcf\u4e2a\u666e\u901a\u7684 Observables \u5b9e\u4f8b\u90fd\u53ea\u80fd\u88ab\u4e00\u4e2a\u89c2\u5bdf\u8005\u8ba2\u9605\uff0c\u5f53\u5b83\u88ab\u5176\u4ed6\u89c2\u5bdf\u8005\u8ba2\u9605\u7684\u65f6\u5019\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f8b\u3002\u4e5f\u5c31\u662f\u666e\u901a Observables \u88ab\u4e0d\u540c\u7684\u89c2\u5bdf\u8005\u8ba2\u9605\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4e0d\u7ba1\u89c2\u5bdf\u8005\u662f\u4ece\u4f55\u65f6\u5f00\u59cb\u8ba2\u9605\uff0c\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f\u4ece\u5934\u5f00\u59cb\u628a\u503c\u53d1\u7ed9\u5bf9\u5e94\u7684\u89c2\u5bdf\u8005\u3002"),(0,s.kt)("h2",{id:"behaviorsubject"},"BehaviorSubject"),(0,s.kt)("p",null,"Subject \u5176\u4e2d\u7684\u4e00\u4e2a\u53d8\u4f53\u5c31\u662f BehaviorSubject\uff0c\u5b83\u6709\u4e00\u4e2a\u201c\u5f53\u524d\u503c\u201d\u7684\u6982\u5ff5\u3002\u5b83\u4fdd\u5b58\u4e86\u53d1\u9001\u7ed9\u6d88\u8d39\u8005\u7684\u6700\u65b0\u503c\uff0c\u5f53\u6709\u65b0\u7684\u89c2\u5bdf\u8005\u8ba2\u9605\u65f6\uff0c\u4f1a\u7acb\u5373\u4ece BehaviorSubject \u90a3\u63a5\u6536\u5230\u201c\u5f53\u524d\u503c\u201d\uff0c\u5728\u5b9a\u4e49\u4e00\u4e2a BehaviorSubject \u65f6\u9700\u8981\u6709\u521d\u59cb\u503c\u3002"),(0,s.kt)("p",null,"\u5728 messageService \u5b9a\u4e49\u4e00\u4e2a BehaviorSubject\uff0c\u521d\u59cb\u503c\u662f1\uff0cupdateBehaviorSubject \u65b9\u6cd5\u628a\u503c\u66f4\u65b0\u4e3a2\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"//messageService.ts\nprivate behaviorSubject: BehaviorSubject<number> = new BehaviorSubject<number>(1);\ncurrentBehaviorSubject = this.behaviorSubject.asObservable();\nupdateBehaviorSubject() {\n    this.behaviorSubject.next(2);\n}\n")),(0,s.kt)("p",null,"\u5e76\u5728 RxjsSubjectBComponent \u4e2d\u8c03\u7528\u6267\u884c updateBehaviorSubject \u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"//RxjsSubjectBComponent\nthis.messageService.updateBehaviorSubject();\n")),(0,s.kt)("p",null,"\u5728 RxjsSubjectAComponent \u4e2d\u8ba2\u9605 behaviorSubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'let subscription1 = this.messageService.currentBehaviorSubject\n    .subscribe(val => {\n        console.log("this is in RxjsSubjectAComponent and Current behavior subject value is  " + val)\n    });\n\nthis.subscription.add(subscription1);\n')),(0,s.kt)("p",null,"\u5728 RxjsSubjectCComponent \u4e2d\uff0c\u7b495\u79d2\u4ee5\u540e\u5728\u8ba2\u9605 behaviorSubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'setTimeout(() => {\n    let subscription1 = this.messageService.currentBehaviorSubject\n        .subscribe(val => {\n             console.log("this is in RxjsSubjectCComponent and Current behavior subject value is  " + val)\n        });\n\n}, 5000);\n\n')),(0,s.kt)("p",null,"\u8fd0\u884c\u6548\u679c\uff1a\u5728 RxjsSubjectAComponent \u4e2d\u4f1a\u62ff\u52301\u548c2\u4e24\u4e2a\u503c\uff0c\u5728 RxjsSubjectCComponent \u4e2d\u4f1a\u62ff\u52302\u8fd9\u4e2a\u503c\u3002"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"this is in RxjsSubjectAComponent and Current behavior subject value is  1\nthis is in RxjsSubjectAComponent and Current behavior subject value is  2\nthis is in RxjsSubjectCComponent and Current behavior subject value is  2\n")),(0,s.kt)("p",null,"\u5982\u679c\u662f\u6b63\u5e38\u7684 Hot Observable \u57285\u79d2\u4e4b\u540e\uff0c\u62ff\u4e0d\u5230\u4efb\u4f55\u503c\uff0c\u56e0\u4e3a\u5728\u4e94\u79d2\u5185\u5df2\u7ecf\u628a\u503c1\u548c2\u90fd\u53d1\u9001\u5b8c\u4e86\uff0c\u4e94\u79d2\u4ee5\u540e\u89c2\u5bdf\u8005\u518d\u8ba2\u9605\uff0c\u6ca1\u6709\u4efb\u4f55\u503c\u53ef\u4ee5\u53d1\u9001\u4e86\u3002\u4f46\u662f\u7528 BehaviorSubject \u4fdd\u5b58\u4e86\u53d1\u9001\u7ed9\u6d88\u8d39\u8005\u7684\u6700\u65b0\u503c\uff0c\u5f53\u6709\u65b0\u7684\u89c2\u5bdf\u8005\u8ba2\u9605\u65f6\uff0c\u4f1a\u7acb\u5373\u4ece BehaviorSubject \u90a3\u63a5\u6536\u5230\u201c\u5f53\u524d\u503c\u201d\uff0c\u6240\u4ee5 RxjsSubjectCComponent \u7684\u8ba2\u9605\u8005\u4f1a\u62ff\u52302\u8fd9\u4e2a\u503c\u3002"),(0,s.kt)("h2",{id:"replaysubject"},"ReplaySubject"),(0,s.kt)("p",null,"\u7c7b\u4f3c\u4e8e BehaviorSubject\uff0c\u53ef\u4ee5\u53d1\u9001\u65e7\u503c\u7ed9\u65b0\u7684\u8ba2\u9605\u8005\uff0c\u4f46\u662f\u4e0d\u4ec5\u662f\u2018\u5f53\u524d\u503c\u2019\uff0c\u8fd8\u53ef\u4ee5\u662f\u4e4b\u524d\u7684\u65e7\u503c\u3002"),(0,s.kt)("p",null,"\u5728 messageService \u5b9a\u4e49\u4e00\u4e2a ReplaySubject\uff0c\u4e3a\u65b0\u7684\u8ba2\u9605\u8005\u7f13\u51b23\u4e2a\u503c\uff0csendReplaySubject \u65b9\u6cd5\u628a1 2 3 4 5\u4e94\u4e2a\u503c\u53d1\u7ed9\u8ba2\u9605\u8005\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"//messageService.ts\nprivate replaySubject: ReplaySubject<number> = new ReplaySubject<number>(3);\nsendReplaySubject() {\n    this.replaySubject.next(1);\n    this.replaySubject.next(2);\n    this.replaySubject.next(3);\n    this.replaySubject.next(4);\n    this.replaySubject.next(5);\n}\n\ngetReplaySubject(): Observable<any> {\n    return this.replaySubject.asObservable();\n}\n\n")),(0,s.kt)("p",null,"\u5728 RxjsSubjectBComponent \u4e2d\uff0c\u8c03\u7528 sendReplaySubject \u65b9\u6cd5\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"this.messageService.sendReplaySubject();\n")),(0,s.kt)("p",null,"\u5728 RxjsSubjectAComponent \u4e2d\uff0c\u8ba2\u9605 replaySubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'let subscription2 = this.messageService.getReplaySubject()\n    .subscribe(val => {\n        console.log("this is in RxjsSubjectAComponent and Current Replay subject value is  " + val)\n    });\n\nthis.subscription.add(subscription2);\n')),(0,s.kt)("p",null,"\u5728 RxjsSubjectCComponent \u4e2d\uff0c\u7b495\u79d2\u4ee5\u540e\u5728\u8ba2\u9605 replaySubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'setTimeout(() => {\n    let subscription2 = this.messageService.getReplaySubject()\n        .subscribe(val => {\n            console.log("this is in RxjsSubjectCComponent and Current repaly subject value is  " + val)\n        });\n    this.subscription.add(subscription2);\n\n}, 5000);\n')),(0,s.kt)("p",null,"\u6548\u679c\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"this is in RxjsSubjectAComponent and Current Replay subject value is  1\nthis is in RxjsSubjectAComponent and Current Replay subject value is  2\nthis is in RxjsSubjectAComponent and Current Replay subject value is  3\nthis is in RxjsSubjectAComponent and Current Replay subject value is  4\nthis is in RxjsSubjectAComponent and Current Replay subject value is  5\n\nthis is in RxjsSubjectCComponent and Current repaly subject value is  3\nthis is in RxjsSubjectCComponent and Current repaly subject value is  4\nthis is in RxjsSubjectCComponent and Current repaly subject value is  5\n\n")),(0,s.kt)("h2",{id:"asyncsubject"},"AsyncSubject"),(0,s.kt)("p",null,"\u53ea\u6709\u5f53 Observable \u6267\u884c\u5b8c\u6210\u65f6(\u6267\u884c complete())\uff0c\u5b83\u624d\u4f1a\u5c06\u6267\u884c\u7684\u6700\u540e\u4e00\u4e2a\u503c\u53d1\u9001\u7ed9\u89c2\u5bdf\u8005\u3002"),(0,s.kt)("p",null,"\u5728 messageService \u5b9a\u4e49\u4e00\u4e2a AsyncSubject\uff0csendAsyncSubject \u65b9\u6cd5\u628a10001 10002 10003 \u4e09\u4e2a\u503c\u53d1\u7ed9\u8ba2\u9605\u8005\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"private asyncSubject: AsyncSubject<number> = new AsyncSubject<number>();\n\nsendAsyncSubject() {\n    this.asyncSubject.next(10001);\n    this.asyncSubject.next(10002);\n    this.asyncSubject.next(10003);\n    this.asyncSubject.complete();\n}\ngetAsyncSubject() {\n    return this.asyncSubject.asObservable();\n}\n")),(0,s.kt)("p",null,"\u5728 RxjsSubjectBComponent \u4e2d\uff0c\u8c03\u7528 sendAsyncSubject \u65b9\u6cd5\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},"this.messageService.sendAsyncSubject();\n")),(0,s.kt)("p",null,"\u5728 RxjsSubjectAComponent \u4e2d\uff0c\u8ba2\u9605 asyncSubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'let subscription3 = this.messageService.getAsyncSubject()\n    .subscribe(val => {\n        console.log("this is in RxjsSubjectAComponent and Current Async subject value is  " + val)\n    });\n\nthis.subscription.add(subscription3);\n')),(0,s.kt)("p",null,"\u5728 RxjsSubjectCComponent \u4e2d\uff0c\u7b495\u79d2\u4ee5\u540e\u5728\u8ba2\u9605 asyncSubject \u7684\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts"},'setTimeout(() => {\n    let subscription3 = this.messageService.getAsyncSubject()\n        .subscribe(val => {\n            console.log("this is in RxjsSubjectCComponent and Current async subject value is  " + val)\n        });\n    this.subscription.add(subscription3);\n\n}, 5000);\n')),(0,s.kt)("p",null,"\u6548\u679c\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"this is in RxjsSubjectAComponent and Current Async subject value is  10003\nthis is in RxjsSubjectCComponent and Current async subject value is  10003\n")))}p.isMDXComponent=!0}}]);