"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4336],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),o=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=o(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),d=o(n),m=a,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return n?r.createElement(g,i(i({ref:t},u),{},{components:n})):r.createElement(g,i({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var o=2;o<l;o++)i[o]=n[o];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1468:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return s},metadata:function(){return o},toc:function(){return u},default:function(){return d}});var r=n(7462),a=n(3366),l=(n(7294),n(3905)),i=["components"],p={},s="\u4e0e\u5176\u5b83\u6784\u5efa\u5de5\u5177\u6574\u5408",o={unversionedId:"ts/project-config/integrating-with-build-tools",id:"ts/project-config/integrating-with-build-tools",title:"\u4e0e\u5176\u5b83\u6784\u5efa\u5de5\u5177\u6574\u5408",description:"\u6784\u5efa\u5de5\u5177",source:"@site/docs/ts/project-config/integrating-with-build-tools.md",sourceDirName:"ts/project-config",slug:"/ts/project-config/integrating-with-build-tools",permalink:"/blog/docs/ts/project-config/integrating-with-build-tools",tags:[],version:"current",frontMatter:{},sidebar:"ts",previous:{title:"\u914d\u7f6e Watch",permalink:"/blog/docs/ts/project-config/configuring-watch"},next:{title:"nightly-builds",permalink:"/blog/docs/ts/project-config/nightly-builds"}},u=[{value:"Babel",id:"babel",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",children:[],level:3},{value:".babelrc",id:"babelrc",children:[],level:3},{value:"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177",id:"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177",children:[],level:3},{value:"package.json",id:"packagejson",children:[],level:3},{value:"\u5728\u547d\u4ee4\u884c\u4e0a\u8fd0\u884cBabel",id:"\u5728\u547d\u4ee4\u884c\u4e0a\u8fd0\u884cbabel",children:[],level:3}],level:2},{value:"Browserify",id:"browserify",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-1",children:[],level:3},{value:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92",id:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92",children:[],level:3},{value:"\u4f7f\u7528API",id:"\u4f7f\u7528api",children:[],level:3}],level:2},{value:"Duo",id:"duo",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-2",children:[],level:3},{value:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92",id:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92-1",children:[],level:3},{value:"\u4f7f\u7528API",id:"\u4f7f\u7528api-1",children:[],level:3}],level:2},{value:"Grunt",id:"grunt",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-3",children:[],level:3},{value:"\u57fa\u672cGruntfile.js",id:"\u57fa\u672cgruntfilejs",children:[],level:3}],level:2},{value:"Gulp",id:"gulp",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-4",children:[],level:3},{value:"\u57fa\u672cgulpfile.js",id:"\u57fa\u672cgulpfilejs",children:[],level:3}],level:2},{value:"Jspm",id:"jspm",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-5",children:[],level:3}],level:2},{value:"Webpack",id:"webpack",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5-6",children:[],level:3},{value:"Webpack 2 webpack.config.js \u57fa\u7840\u914d\u7f6e",id:"webpack-2-webpackconfigjs-\u57fa\u7840\u914d\u7f6e",children:[],level:3},{value:"Webpack 1 webpack.config.js \u57fa\u7840\u914d\u7f6e",id:"webpack-1-webpackconfigjs-\u57fa\u7840\u914d\u7f6e",children:[],level:3}],level:2},{value:"MSBuild",id:"msbuild",children:[],level:2},{value:"NuGet",id:"nuget",children:[],level:2}],c={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,l.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u4e0e\u5176\u5b83\u6784\u5efa\u5de5\u5177\u6574\u5408"},"\u4e0e\u5176\u5b83\u6784\u5efa\u5de5\u5177\u6574\u5408"),(0,l.kt)("p",null,"\u6784\u5efa\u5de5\u5177"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#babel"},"Babel")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#browserify"},"Browserify")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#duo"},"Duo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#grunt"},"Grunt")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#gulp"},"Gulp")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#jspm"},"Jspm")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#webpack"},"Webpack")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#msbuild"},"MSBuild")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"integrating-with-build-tools#nuget"},"NuGet"))),(0,l.kt)("h2",{id:"babel"},"Babel"),(0,l.kt)("h3",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @babel/cli @babel/core @babel/preset-typescript --save-dev\n")),(0,l.kt)("h3",{id:"babelrc"},".babelrc"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "presets": ["@babel/preset-typescript"]\n}\n')),(0,l.kt)("h3",{id:"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177"},"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./node_modules/.bin/babel --out-file bundle.js src/index.ts\n")),(0,l.kt)("h3",{id:"packagejson"},"package.json"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "scripts": {\n    "build": "babel --out-file bundle.js main.ts"\n  },\n}\n')),(0,l.kt)("h3",{id:"\u5728\u547d\u4ee4\u884c\u4e0a\u8fd0\u884cbabel"},"\u5728\u547d\u4ee4\u884c\u4e0a\u8fd0\u884cBabel"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm run build\n")),(0,l.kt)("h2",{id:"browserify"},"Browserify"),(0,l.kt)("h3",{id:"\u5b89\u88c5-1"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install tsify\n")),(0,l.kt)("h3",{id:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92"},"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"browserify main.ts -p [ tsify --noImplicitAny ] > bundle.js\n")),(0,l.kt)("h3",{id:"\u4f7f\u7528api"},"\u4f7f\u7528API"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"var browserify = require(\"browserify\");\nvar tsify = require(\"tsify\");\n\nbrowserify()\n    .add('main.ts')\n    .plugin('tsify', { noImplicitAny: true })\n    .bundle()\n    .pipe(process.stdout);\n")),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/smrq/tsify"},"smrq/tsify")),(0,l.kt)("h2",{id:"duo"},"Duo"),(0,l.kt)("h3",{id:"\u5b89\u88c5-2"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install duo-typescript\n")),(0,l.kt)("h3",{id:"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92-1"},"\u4f7f\u7528\u547d\u4ee4\u884c\u4ea4\u4e92"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"duo --use duo-typescript entry.ts\n")),(0,l.kt)("h3",{id:"\u4f7f\u7528api-1"},"\u4f7f\u7528API"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"var Duo = require('duo');\nvar fs = require('fs')\nvar path = require('path')\nvar typescript = require('duo-typescript');\n\nvar out = path.join(__dirname, \"output.js\")\n\nDuo(__dirname)\n    .entry('entry.ts')\n    .use(typescript())\n    .run(function (err, results) {\n        if (err) throw err;\n        // Write compiled result to output file\n        fs.writeFileSync(out, results.code);\n    });\n")),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/frankwallis/duo-typescript"},"frankwallis/duo-typescript")),(0,l.kt)("h2",{id:"grunt"},"Grunt"),(0,l.kt)("h3",{id:"\u5b89\u88c5-3"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install grunt-ts\n")),(0,l.kt)("h3",{id:"\u57fa\u672cgruntfilejs"},"\u57fa\u672cGruntfile.js"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = function(grunt) {\n    grunt.initConfig({\n        ts: {\n            default : {\n                src: ["**/*.ts", "!node_modules/**/*.ts"]\n            }\n        }\n    });\n    grunt.loadNpmTasks("grunt-ts");\n    grunt.registerTask("default", ["ts"]);\n};\n')),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/TypeStrong/grunt-ts"},"TypeStrong/grunt-ts")),(0,l.kt)("h2",{id:"gulp"},"Gulp"),(0,l.kt)("h3",{id:"\u5b89\u88c5-4"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install gulp-typescript\n")),(0,l.kt)("h3",{id:"\u57fa\u672cgulpfilejs"},"\u57fa\u672cgulpfile.js"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'var gulp = require("gulp");\nvar ts = require("gulp-typescript");\n\ngulp.task("default", function () {\n    var tsResult = gulp.src("src/*.ts")\n        .pipe(ts({\n              noImplicitAny: true,\n              out: "output.js"\n        }));\n    return tsResult.js.pipe(gulp.dest(\'built/local\'));\n});\n')),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ivogabe/gulp-typescript"},"ivogabe/gulp-typescript")),(0,l.kt)("h2",{id:"jspm"},"Jspm"),(0,l.kt)("h3",{id:"\u5b89\u88c5-5"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g jspm@beta\n")),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff1a\u76ee\u524djspm\u76840.16beta\u7248\u672c\u652f\u6301TypeScript")),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Microsoft/TypeScriptSamples/tree/master/jspm"},"TypeScriptSamples/jspm")),(0,l.kt)("h2",{id:"webpack"},"Webpack"),(0,l.kt)("h3",{id:"\u5b89\u88c5-6"},"\u5b89\u88c5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install ts-loader --save-dev\n")),(0,l.kt)("h3",{id:"webpack-2-webpackconfigjs-\u57fa\u7840\u914d\u7f6e"},"Webpack 2 webpack.config.js \u57fa\u7840\u914d\u7f6e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n    entry: "./src/index.tsx",\n    output: {\n        path: \'/\',\n        filename: "bundle.js"\n    },\n    resolve: {\n        extensions: [".tsx", ".ts", ".js", ".json"]\n    },\n    module: {\n        rules: [\n            // all files with a \'.ts\' or \'.tsx\' extension will be handled by \'ts-loader\'\n            { test: /\\.tsx?$/, use: ["ts-loader"], exclude: /node_modules/ }\n        ]\n    }\n}\n')),(0,l.kt)("h3",{id:"webpack-1-webpackconfigjs-\u57fa\u7840\u914d\u7f6e"},"Webpack 1 webpack.config.js \u57fa\u7840\u914d\u7f6e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n    entry: "./src/index.tsx",\n    output: {\n        filename: "bundle.js"\n    },\n    resolve: {\n        // Add \'.ts\' and \'.tsx\' as a resolvable extension.\n        extensions: ["", ".webpack.js", ".web.js", ".ts", ".tsx", ".js"]\n    },\n    module: {\n        loaders: [\n            // all files with a \'.ts\' or \'.tsx\' extension will be handled by \'ts-loader\'\n            { test: /\\.tsx?$/, loader: "ts-loader" }\n        ]\n    }\n};\n')),(0,l.kt)("p",null,"\u67e5\u770b",(0,l.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/ts-loader"},"\u66f4\u591a\u5173\u4e8ets-loader\u7684\u8be6\u7ec6\u4fe1\u606f")),(0,l.kt)("p",null,"\u6216\u8005"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/awesome-typescript-loader"},"awesome-typescript-loader"))),(0,l.kt)("h2",{id:"msbuild"},"MSBuild"),(0,l.kt)("p",null,"\u66f4\u65b0\u5de5\u7a0b\u6587\u4ef6\uff0c\u5305\u542b\u672c\u5730\u5b89\u88c5\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"Microsoft.TypeScript.Default.props"),"\uff08\u5728\u9876\u7aef\uff09\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"Microsoft.TypeScript.targets"),"\uff08\u5728\u5e95\u90e8\uff09\u6587\u4ef6\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-markup"},'<?xml version="1.0" encoding="utf-8"?>\n<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">\n  \x3c!-- Include default props at the top --\x3e\n  <Import\n      Project="$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props"\n      Condition="Exists(\'$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props\')" />\n\n  \x3c!-- TypeScript configurations go here --\x3e\n  <PropertyGroup Condition="\'$(Configuration)\' == \'Debug\'">\n    <TypeScriptRemoveComments>false</TypeScriptRemoveComments>\n    <TypeScriptSourceMap>true</TypeScriptSourceMap>\n  </PropertyGroup>\n  <PropertyGroup Condition="\'$(Configuration)\' == \'Release\'">\n    <TypeScriptRemoveComments>true</TypeScriptRemoveComments>\n    <TypeScriptSourceMap>false</TypeScriptSourceMap>\n  </PropertyGroup>\n\n  \x3c!-- Include default targets at the bottom --\x3e\n  <Import\n      Project="$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets"\n      Condition="Exists(\'$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets\')" />\n</Project>\n')),(0,l.kt)("h2",{id:"nuget"},"NuGet"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53f3\u952e\u70b9\u51fb -",">"," Manage NuGet Packages"),(0,l.kt)("li",{parentName:"ul"},"\u67e5\u627e",(0,l.kt)("inlineCode",{parentName:"li"},"Microsoft.TypeScript.MSBuild")),(0,l.kt)("li",{parentName:"ul"},"\u70b9\u51fb",(0,l.kt)("inlineCode",{parentName:"li"},"Install")),(0,l.kt)("li",{parentName:"ul"},"\u5b89\u88c5\u5b8c\u6210\u540e\uff0cRebuild\u3002")),(0,l.kt)("p",null,"\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u8bf7\u53c2\u8003",(0,l.kt)("a",{parentName:"p",href:"http://docs.nuget.org/Consume/Package-Manager-Dialog"},"Package Manager Dialog"),"\u548c",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Microsoft/TypeScript/wiki/Nightly-drops#using-nuget-with-msbuild"},"using nightly builds with NuGet")))}d.isMDXComponent=!0}}]);