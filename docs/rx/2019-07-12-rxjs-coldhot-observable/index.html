<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="search" type="application/opensearchdescription+xml" title="Koni" href="/blog/opensearch.xml"><title data-react-helmet="true">Cold vs Hot Observables | Koni</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://qiyx2019.github.io/blog/docs/rx/2019-07-12-rxjs-coldhot-observable"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="keywords" content="cooking, blog"><meta data-react-helmet="true" property="og:title" content="Cold vs Hot Observables | Koni"><meta data-react-helmet="true" name="description" content="RxJS ä¸­ Observables åˆ†ä¸ºä¸¤ç§ï¼šCold Observables å’Œ Hot Observablesï¼Œè¿™ä¸¤ä¸ªåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ã€RxJSå®˜æ–¹ã€‘ç»™å‡ºçš„è§£é‡Šï¼š"><meta data-react-helmet="true" property="og:description" content="RxJS ä¸­ Observables åˆ†ä¸ºä¸¤ç§ï¼šCold Observables å’Œ Hot Observablesï¼Œè¿™ä¸¤ä¸ªåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ã€RxJSå®˜æ–¹ã€‘ç»™å‡ºçš„è§£é‡Šï¼š"><link data-react-helmet="true" rel="icon" href="/blog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://qiyx2019.github.io/blog/docs/rx/2019-07-12-rxjs-coldhot-observable"><link data-react-helmet="true" rel="alternate" href="https://qiyx2019.github.io/blog/docs/rx/2019-07-12-rxjs-coldhot-observable" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://qiyx2019.github.io/blog/docs/rx/2019-07-12-rxjs-coldhot-observable" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://R71R7T4844-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/blog/assets/css/styles.fd0dc240.css">
<link rel="preload" href="/blog/assets/js/runtime~main.8c0d105b.js" as="script">
<link rel="preload" href="/blog/assets/js/main.879787b9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><div class="navbar__logo"><img src="/blog/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/blog/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Koni</b></a><a class="navbar__item navbar__link" href="/blog/docs/babel/index">Babel</a><a class="navbar__item navbar__link" href="/blog/docs/redux/">Redux</a><a class="navbar__item navbar__link" href="/blog/docs/ts/base/">TypeScript</a><a class="navbar__item navbar__link navbar__link--active" href="/blog/docs/rx/2019-07-05-rxjs-introduce">RxJS</a><a class="navbar__item navbar__link" href="/blog/docs/webpack/">webpack</a><a class="navbar__item navbar__link" href="/blog/docs/other/iosæ‰“åŒ…">å…¶ä»–</a><a class="navbar__item navbar__link" href="/blog/docs/base/bubbling">åŸºç¡€</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/qiyx2019" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ğŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ğŸŒ</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/2019-07-05-rxjs-introduce">RxJSå…¥é—¨å’Œæ¦‚è§ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/blog/docs/rx/2019-07-12-rxjs-coldhot-observable">Cold vs Hot Observables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/2019-07-25-rxjs-subject">å››ç§ Subject çš„ç”¨æ³•å’ŒåŒºåˆ«</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/2019-08-12-rxjs-caching">å¦‚ä½•é€šè¿‡ RxJS å®ç°ç¼“å­˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/2019-08-15-rxjs-notification">å¦‚ä½•é€šè¿‡ RxJS å®ç°ç®€å•çš„æ¶ˆæ¯é€šçŸ¥æœºåˆ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/2019-08-16-rxjs-unsubscribe">æ‰€æœ‰è®¢é˜…éƒ½éœ€è¦è°ƒç”¨ unsubscribe å–æ¶ˆè®¢é˜…ï¼Ÿ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/rx/">é€šè¿‡ç¤ºä¾‹æ¥å­¦ä¹  RxJS æ“ä½œç¬¦</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/combination/">ç»„åˆæ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;ç»„åˆæ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/combineall">combineAll</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/combinelatest">combineLatest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/concat">concat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/concatall">concatAll</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/forkjoin">forkJoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/merge">merge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/mergeall">mergeAll</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/pairwise">pairwise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/race">race</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/startwith">startWith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/withlatestfrom">withLatestFrom</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/combination/zip">zip</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/conditional/">æ¡ä»¶æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ¡ä»¶æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/conditional/defaultifempty">defaultIfEmpty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/conditional/every">every</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/creation/">åˆ›å»ºæ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;åˆ›å»ºæ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/create">create</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/empty">empty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/from">from</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/fromevent">fromEvent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/frompromise">fromPromise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/interval">interval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/of">of / just</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/range">range</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/throw">throw</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/creation/timer">timer</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/error_handling/">é”™è¯¯å¤„ç†æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;é”™è¯¯å¤„ç†æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/error_handling/catch">catch / catchError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/error_handling/retry">retry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/error_handling/retrywhen">retryWhen</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/filtering/">è¿‡æ»¤æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;è¿‡æ»¤æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/audit">audit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/audittime">auditTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/debounce">debounce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/debouncetime">debounceTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/distinctuntilchanged">distinctUntilChanged</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/filter">filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/first">first</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/ignoreelements">ignoreElements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/last">last</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/sample">sample</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/single">single</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/skip">skip</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/skipuntil">skipUntil</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/skipwhile">skipWhile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/take">take</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/takeuntil">takeUntil</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/takewhile">takeWhile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/throttle">throttle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/filtering/throttletime">throttleTime</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/multicasting/">å¤šæ’­æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¤šæ’­æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/multicasting/multicast">multicast</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/multicasting/publish">publish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/multicasting/share">share</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/multicasting/sharereplay">shareReplay</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/transformation/">è½¬æ¢æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;è½¬æ¢æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/buffer">buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/buffercount">bufferCount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/buffertime">bufferTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/buffertoggle">bufferToggle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/bufferwhen">bufferWhen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/concatmap">concatMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/concatmapto">concatMapTo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/exhaustmap">exhaustMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/expand">expand</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/groupby">groupBy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/map">map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/mapto">mapTo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/mergemap">mergeMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/partition">partition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/pluck">pluck</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/reduce">reduce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/scan">scan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/switchmap">switchMap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/window">window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/windowcount">windowCount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/windowtime">windowTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/windowtoggle">windowToggle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/transformation/windowwhen">windowWhen</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/blog/docs/rx/utility/">å·¥å…·æ“ä½œç¬¦</a><button aria-label="Toggle the collapsible sidebar category &#x27;å·¥å…·æ“ä½œç¬¦&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/delay">delay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/delaywhen">delayWhen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/dematerialize">dematerialize</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/do">do / tap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/finalize">finalize / finally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/let">let</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/timeout">timeout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/rx/utility/topromise">toPromise</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cold vs Hot Observables</h1></header><p>RxJS ä¸­ Observables åˆ†ä¸ºä¸¤ç§ï¼šCold Observables å’Œ Hot Observablesï¼Œè¿™ä¸¤ä¸ªåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ã€<a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/creating.md#cold-vs-hot-observables" target="_blank" rel="noopener noreferrer">RxJSå®˜æ–¹</a>ã€‘ç»™å‡ºçš„è§£é‡Šï¼š</p><blockquote><p>Cold observables start running upon subscription, i.e., the observable sequence only starts pushing values to the observers when Subscribe is called. (â€¦) This is different from hot observables such as mouse move events or stock tickers which are already producing values even before a subscription is active.</p></blockquote><p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š</p><ul><li><p>Cold Observables åªæœ‰è¢« observers è®¢é˜…çš„æ—¶å€™ï¼Œæ‰ä¼šå¼€å§‹äº§ç”Ÿå€¼ã€‚æ˜¯å•æ’­çš„ï¼Œæœ‰å¤šå°‘ä¸ªè®¢é˜…å°±ä¼šç”Ÿæˆå¤šå°‘ä¸ªè®¢é˜…å®ä¾‹ï¼Œæ¯ä¸ªè®¢é˜…éƒ½æ˜¯ä»ç¬¬ä¸€ä¸ªäº§ç”Ÿçš„å€¼å¼€å§‹æ¥æ”¶å€¼ï¼Œæ‰€ä»¥æ¯ä¸ªè®¢é˜…æ¥æ”¶åˆ°çš„å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p></li><li><p>Hot Observables ä¸ç®¡æœ‰æ²¡æœ‰è¢«è®¢é˜…éƒ½ä¼šäº§ç”Ÿå€¼ã€‚æ˜¯å¤šæ’­çš„ï¼Œå¤šä¸ªè®¢é˜…å…±äº«åŒä¸€ä¸ªå®ä¾‹ï¼Œæ˜¯ä»è®¢é˜…å¼€å§‹æ¥å—åˆ°å€¼ï¼Œæ¯ä¸ªè®¢é˜…æ¥æ”¶åˆ°çš„å€¼æ˜¯ä¸åŒçš„ï¼Œå–å†³äºå®ƒä»¬æ˜¯ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹è®¢é˜…ã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="cold-observables">Cold Observables<a class="hash-link" href="#cold-observables" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obs$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2nd subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æŠŠä¸€ä¸ªæ•°ç»„è½¬æ¢æˆ observablesï¼Œç„¶ååˆ†åˆ«ç”¨ä¸åŒçš„ Subscription è®¢é˜…å®ƒï¼Œåœ¨ console é‡Œç»“æœå¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2nd subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2nd subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2nd subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2nd subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2nd subscriber:5</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ‘ä»¬æŠŠä»£ç æ”¹ä¸€ä¸‹ï¼Œè®©ç¬¬äºŒä¸ª Subscription å»¶è¿Ÿ1ç§’è®¢é˜…ï¼š</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obs$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2nd subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç»“æœè¿˜æ˜¯è·Ÿä¸Šé¢ä¸€æ ·ï¼Œæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚è¿™ä¸ªæ˜¯ Cold Observablesï¼Œä¸¤ä¸ªè®¢é˜…åˆ†åˆ«æœ‰ä¸¤ä¸ªè®¢é˜…å®ä¾‹ï¼Œæ˜¯å•æ’­çš„ï¼Œåœ¨æ²¡æœ‰å¼€å§‹è®¢é˜…ä¹‹å‰ï¼Œobs$ æ˜¯ä¸å‘é€å€¼ï¼Œä¸€æ—¦å¼€å§‹è®¢é˜…ï¼Œä¸ç®¡æ˜¯ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œobs$ éƒ½æ˜¯ä»ç¬¬ä¸€ä¸ªå€¼å¼€å§‹å‘é€å€¼ï¼Œæ‰€ä»¥ä¸¤ä¸ªè®¢é˜…æ¥æ”¶åˆ°å€¼æ²¡æœ‰åŒºåˆ«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="hot-observables">Hot Observables<a class="hash-link" href="#hot-observables" title="Direct link to heading">â€‹</a></h2><p>æˆ‘å…ˆæŠŠå‰é¢ Cold Observables æ”¹æˆ Hot Observablesï¼Œä»£ç å¦‚ä¸‹ï¼Œå…ˆå¿½ç•¥ publishï¼ŒConnectableObservableï¼Œconnectï¼Œç¨åå†è¯¦ç»†è§£é‡Šã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">let obs$ = from([1, 2, 3, 4, 5]).pipe(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publish()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) as ConnectableObservable&lt;any&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$.connect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$.subscribe(data =&gt; { console.log(&quot;1st subscriber:&quot; + data) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">setTimeout(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$.subscribe(data =&gt; { console.log(&quot;2st subscriber:&quot; + data) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, 2100);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ ¹æ® Hot Observables çš„å®šä¹‰ï¼ŒæœŸå¾…çš„æ•ˆæœæ˜¯ç¬¬ä¸€ä¸ªè®¢é˜…æ¥æ”¶åˆ°1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼›ç¬¬äºŒä¸ªè®¢é˜…æ¥æ”¶åˆ°3ï¼Œ4ï¼Œ5ã€‚å®é™…ä¸Šä¸¤ä¸ªè®¢é˜…éƒ½æ²¡æœ‰æ¥æ”¶ä»»ä½•å€¼ï¼ä»”ç»†æƒ³æƒ³å…¶å®ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œå› ä¸º Hot Observables æ˜¯ä¸ç®¡æœ‰æ²¡æœ‰è¢«è®¢é˜…ï¼Œéƒ½ä¼šå‘é€å€¼ï¼Œæˆ‘ä»¬æ•°ç»„é‡Œæœ‰äº”ä¸ªå€¼ï¼Œç­‰åˆ°å¼€å§‹è®¢é˜…çš„æ—¶å€™ï¼Œè¿™äº”ä¸ªå€¼éƒ½å·²ç»å‘é€å®Œäº†ï¼Œæ‰€ä»¥åœ¨è®¢é˜…é‡Œæ¥æ”¶ä¸åˆ°ä»»ä½•å€¼äº†ã€‚</p><p>ä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œæˆ‘ä»¬æŠŠæ•°ç»„æ›¿æ¢æˆ intervalï¼Œæ¯éš”ä¸€ç§’å°±å‘é€ä¸€ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªè®¢é˜…æ˜¯ç­‰äº†ä¸€ç§’å¼€å§‹æ¥å—å€¼ï¼Œç¬¬äºŒä¸ªè®¢é˜…æ˜¯ç­‰äº†ä¸¤ç§’å¼€å§‹æ¥å—å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">let obs$ = interval(1000).pipe(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publish()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) as ConnectableObservable&lt;any&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obs$.connect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">setTimeout(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$.subscribe(data =&gt; { console.log(&quot;1st subscriber:&quot; + data) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setTimeout(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obs$.subscribe(data =&gt; { console.log(&quot;2st subscriber:&quot; + data) });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, 1100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, 2100);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ•ˆæœæ˜¯ï¼Œç¬¬ä¸€ä¸ªè®¢é˜…ä»2å¼€å§‹æ¥å—å€¼ï¼Œç¬¬äºŒä¸ªè®¢é˜…ä»3å¼€å§‹æ¥å—å€¼ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="cold-observablesvshot-observables">Cold Observablesã€€vsã€€Hot Observables<a class="hash-link" href="#cold-observablesvshot-observables" title="Direct link to heading">â€‹</a></h3><ul><li><p>æˆ‘ä»¬å¯ä»¥æŠŠ Cold Observables ç†è§£ä¸ºåœ¨æ‰‹æœºç½‘æ˜“äº‘éŸ³ä¹ APP ä¸Šå¬æ­Œï¼šAPP é‡Œçš„æ­Œæ›²èµ„æºæ˜¯ Cold Observablesï¼Œå¬æ­Œçš„äººæ˜¯ observersã€‚å¦‚æœæ²¡æœ‰äººæ‰“å¼€ APP å»æ’­æ”¾è¿™é¦–æ­Œï¼Œè¿™é¦–æ­Œä¸ä¼šè‡ªå·±æ’­æ”¾ã€‚æ¯ä¸ªäººä»è‡ªå·± APP æ‰“å¼€æ’­æ”¾è¿™é¦–æ­Œçš„æ—¶å€™ï¼Œå…ˆæŠŠæ­Œæ›²ä»ç½‘ä¸Šä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ¯ä»½éƒ½æ˜¯å•ç‹¬çš„æ­Œæ›²å®ä¾‹ï¼Œéƒ½æ˜¯ä»å¤´å¼€å§‹å¬ï¼Œäº’ç›¸ä¸ä¼šå½±å“ã€‚</p></li><li><p>è€Œ Hot Observables å¯ä»¥ç†è§£ä¸ºæ¼”å”±ä¼šï¼šæ¯”å¦‚æˆ‘ä»¬å»çœ‹ä¸€åœºæ¼”å”±ä¼šï¼Œæ²¡æœ‰è¿Ÿåˆ°çš„å°ä¼™ä¼´ï¼ˆAï¼‰å¯ä»¥ä»ç¬¬ä¸€é¦–æ­Œå¼€å§‹å¬ï¼Œè¿Ÿåˆ°çš„å°ä¼™ä¼´å°±ï¼ˆBï¼‰åªèƒ½ä»ç¬¬äºŒé¦–æˆ–è€…æ›´æ™šçš„æ­Œå¼€å§‹å¬ï¼›æ¼”å”±ä¼šå°±æ˜¯ Hot Observablesï¼Œå°ä¼™ä¼´ A å’Œ B å°±æ˜¯ observersã€‚å°ä¼™ä¼´ A å’Œ B å…±äº«åŒä¸€ä¸ªæ¼”å”±ä¼šå®ä¾‹ï¼Œæ˜¯ä»è®¢é˜…å¼€å§‹æ¥å—åˆ°å€¼ï¼Œæ¯ä¸ªè®¢é˜…æ¥æ”¶åˆ°çš„å€¼æ˜¯ä¸åŒçš„ï¼Œå–å†³äºå®ƒä»¬æ˜¯ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹è®¢é˜…ã€‚</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="é‚£æ€ä¹ˆåˆ›å»º-hot-observables-å‘¢">é‚£æ€ä¹ˆåˆ›å»º Hot Observables å‘¢ï¼Ÿ<a class="hash-link" href="#é‚£æ€ä¹ˆåˆ›å»º-hot-observables-å‘¢" title="Direct link to heading">â€‹</a></h3><p>åœ¨ä¸Šé¢çš„ Hot Observables ä»£ç é‡Œï¼Œç”¨åˆ°äº† publish æ“ä½œç¬¦ï¼ŒConnectableObservableï¼Œä»¥åŠ connect() æ–¹æ³•åˆ›å»º Hot Observablesï¼›æˆ‘ä»¬æ¥çœ‹ä¸‹å®ƒä»¬åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p><blockquote><p><strong>publishï¼š</strong>è¿™ä¸ªæ“ä½œç¬¦æŠŠæ­£å¸¸çš„ Observableï¼ˆCold Observables ï¼‰è½¬æ¢æˆ ConnectableObservableã€‚</p><p><strong>ConnectableObservableï¼š</strong>ConnectableObservable æ˜¯å¤šæ’­çš„å…±äº« Observableï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ª observerså…±äº«è®¢é˜…ï¼Œå®ƒæ˜¯ Hot Observablesã€‚ConnectableObservable æ˜¯è®¢é˜…è€…å’ŒçœŸæ­£çš„æºå¤´ Observablesï¼ˆä¸Šé¢ä¾‹å­ä¸­çš„ intervalï¼Œæ¯éš”ä¸€ç§’å‘é€ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯æºå¤´ Observablesï¼‰çš„ä¸­é—´äººï¼ŒConnectableObservable ä»æºå¤´ Observables æ¥æ”¶åˆ°å€¼ç„¶åå†æŠŠå€¼è½¬å‘ç»™è®¢é˜…è€…ã€‚</p><p><strong>connect()ï¼š</strong>ConnectableObservable å¹¶ä¸ä¼šä¸»åŠ¨å‘é€å€¼ï¼Œå®ƒæœ‰ä¸ª connect æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨ connect æ–¹æ³•ï¼Œå¯ä»¥å¯åŠ¨å…±äº« ConnectableObservable å‘é€å€¼ã€‚å½“æˆ‘ä»¬è°ƒç”¨ ConnectableObservable.prototype.connect æ–¹æ³•ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¢«è®¢é˜…ï¼Œéƒ½ä¼šå‘é€å€¼ã€‚è®¢é˜…è€…å…±äº«åŒä¸€ä¸ªå®ä¾‹ï¼Œè®¢é˜…è€…æ¥æ”¶åˆ°çš„å€¼å–å†³äºå®ƒä»¬ä½•æ—¶å¼€å§‹è®¢é˜…ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œç¬¬ä¸€ä¸ªè®¢é˜…ç­‰äº†ä¸€ç§’ä»2å¼€å§‹æ¥å—å€¼ï¼Œç¬¬äºŒä¸ªè®¢é˜…ç­‰äº†ä¸¤ç§’ä»3å¼€å§‹æ¥å—å€¼ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="connect-vs-refcount">connect vs refCount<a class="hash-link" href="#connect-vs-refcount" title="Direct link to heading">â€‹</a></h2><p>é™¤äº† connectï¼Œè¿˜æœ‰ä¸€ä¸ª refCount æ–¹æ³•ï¼Œåœ¨æ¯”è¾ƒè¿™ä¸¤ä¸ªåŒºåˆ«ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ refCount çš„ç”¨æ³•å’Œæ•ˆæœï¼š</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obs$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">interval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">refCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æŒ‰ä¹‹é—´å¯¹ publish ä¼šç”Ÿæˆä¸€ä¸ª ConnectableObservableï¼Œå®ƒæ˜¯ä¸€ä¸ª Hot Observablesï¼Œé‚£ä¹ˆé¢„æœŸç»“æœæ˜¯ï¼šç¬¬ä¸€ä¸ªè®¢é˜…è€…æ˜¯ä»2å¼€å§‹æ¥æ”¶å€¼ï¼Œç¬¬äºŒä¸ªè®¢é˜…è€…æ˜¯ä»3å¼€å§‹æ¥å—å€¼ï¼Ÿ</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹å®é™…æ•ˆæœï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è·Ÿé¢„æƒ³çš„ä¸ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªè®¢é˜…è€…ä»0å¼€å§‹æ¥æ”¶å€¼ï¼Œç¬¬äºŒä¸ªè®¢é˜…è€…æ¯”ç¬¬ä¸€ä¸ªè®¢é˜…è€…æ™šäº†ä¸€ç§’ï¼Œä»1å¼€å§‹æ¥å—å€¼ã€‚</p><p>å½“ä½¿ç”¨ refCountï¼Œæ˜¯å¼•ç”¨è®¡æ•°çš„ observableã€‚å®ƒè¡¨ç¤ºå½“ç¬¬ä¸€ä¸ªè®¢é˜…è€…å¼€å§‹è®¢é˜…çš„æ—¶å€™ï¼Œå¼€å§‹å‘é€å’Œäº§ç”Ÿå€¼ï¼›ç¬¬äºŒä¸ªè®¢é˜…è€…ï¼ˆä¹‹åçš„è®¢é˜…è€…ï¼‰å…±äº«ç¬¬ä¸€ä¸ªè®¢é˜…è€…çš„ Observables å®ä¾‹ï¼Œæ²¡æœ‰è®¢é˜…è€…çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å–æ¶ˆè®¢é˜…ï¼›ä¹‹åå†é‡æ–°è®¢é˜…ï¼Œåˆä»å¤´å¼€å§‹å‘é€å€¼ã€‚</p><p>å®ƒä¸æ˜¯ Hot Observables ä¹Ÿä¸æ˜¯ Cold Observablesï¼Œå› ä¸ºå®ƒæ˜¯ä»æœ‰ç¬¬ä¸€ä¸ªè®¢é˜…è€…çš„æ—¶å€™æ‰å¼€å§‹å‘é€å€¼ï¼Œæ²¡æœ‰è®¢é˜…è€…çš„æ—¶å€™ä¼šè‡ªåŠ¨å–æ¶ˆè®¢é˜…ï¼Œè€Œä¸”ä¹‹åçš„è®¢é˜…è€…å…±äº«ç¬¬ä¸€ä¸ªè®¢é˜…è€…çš„ Observables å®ä¾‹ã€‚å®ƒæ˜¯åŸºäº Hot Observables ä¸ Cold Observables ä¹‹é—´çš„ Observablesï¼Œå¯ä»¥ç†è§£ä¸º Warm Observablesã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="share">share<a class="hash-link" href="#share" title="Direct link to heading">â€‹</a></h2><p>publish å’Œ refCount å¯ä»¥ç”Ÿæˆä¸€ä¸ª Warm Observablesï¼Œå®é™…å•ç‹¬ä½¿ç”¨ share æ“ä½œç¬¦å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œshare å®é™…å°±æ˜¯ publish().refCount() çš„ç®€å†™ï¼Œè¿™æ¬¡æŠŠç¬¬äºŒä¸ªè®¢é˜…æ¯”ç¬¬ä¸€ä¸ªè®¢é˜…æ™šäº”ç§’å†å¼€å§‹è®¢é˜…ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obs$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">interval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">share</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å’Œä½¿ç”¨ publish().refCount() æ•ˆæœå®Œå…¨ä¸€æ ·ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sharereplay">shareReplay<a class="hash-link" href="#sharereplay" title="Direct link to heading">â€‹</a></h2><p>åœ¨ç”¨ share() çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªæˆ–è€…æ›´åé¢çš„è®¢é˜…è€…å¼€å§‹è®¢é˜…çš„æ—¶å€™ï¼Œéƒ½æ˜¯å…±äº«ç¬¬ä¸€è®¢é˜…è€…çš„ Observablesï¼Œæ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç¬¬äºŒä¸ªè®¢é˜…æ¯”ç¬¬ä¸€ä¸ªè®¢é˜…æ™šäº”ç§’å†å¼€å§‹è®¢é˜…ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªè®¢é˜…è€…ä»5å¼€å§‹æ¥æ”¶å€¼ã€‚ä½†æ˜¯å®é™…æƒ…å†µä¸­ï¼Œå¦‚æœæˆ‘æƒ³è®©ç¬¬äºŒä¸ªè®¢é˜…è€…ä¹Ÿèƒ½æ‹¿åˆ°å‰é¢çš„å€¼ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿç”¨ shareReplay() å¯ä»¥å®ç°ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obs$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">interval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">shareReplay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obs$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2st subscriber:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1st subscriber:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2st subscriber:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p> shareReplay(1) ä¸­çš„1è¡¨ç¤ºæ‹¿åˆ°é”™è¿‡çš„å‰ä¸€ä¸ªå€¼ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­å°±æ˜¯ç¬¬äºŒä¸ªè®¢é˜…ä»4å¼€å§‹æ¥å—å€¼ã€‚å¦‚æœæ”¹æˆ shareReplay(2 )å°±è¡¨ç¤ºä»é”™è¿‡çš„å‰ä¸¤ä¸ªå€¼å¼€å§‹æ¥å—å€¼ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªè®¢é˜…ä¼šä»3å¼€å§‹æ¥å—å€¼ã€‚</p><p> shareReplay(1) å…¶å®ä¹Ÿæ˜¯<code>publishReplay(1).refCount()</code>çš„ç®€å†™ï¼Œç”¨<code>publishReplay(1).refCount()</code>æœ‰åŒæ ·çš„æ•ˆæœã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h2><p> åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ï¼š</p><ul><li>ä»€ä¹ˆæ˜¯ Cold Observables å’Œ Hot Observablesï¼Œä»¥åŠä¸¤è€…çš„åŒºåˆ«</li><li>æ€ä¹ˆåˆ›å»º Hot Observables</li><li>ä»€ä¹ˆæ˜¯ Warm Observablesï¼Œä»¥åŠæ€ä¹ˆç”¨ shareReplay() å»æ‹¿åˆ°è®¢é˜…è€…é”™è¿‡çš„å€¼</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/docs/rx/2019-07-05-rxjs-introduce"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RxJSå…¥é—¨å’Œæ¦‚è§ˆ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/docs/rx/2019-07-25-rxjs-subject"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">å››ç§ Subject çš„ç”¨æ³•å’ŒåŒºåˆ«</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cold-observables" class="table-of-contents__link toc-highlight">Cold Observables</a></li><li><a href="#hot-observables" class="table-of-contents__link toc-highlight">Hot Observables</a><ul><li><a href="#cold-observablesvshot-observables" class="table-of-contents__link toc-highlight">Cold Observablesã€€vsã€€Hot Observables</a></li><li><a href="#é‚£æ€ä¹ˆåˆ›å»º-hot-observables-å‘¢" class="table-of-contents__link toc-highlight">é‚£æ€ä¹ˆåˆ›å»º Hot Observables å‘¢ï¼Ÿ</a></li></ul></li><li><a href="#connect-vs-refcount" class="table-of-contents__link toc-highlight">connect vs refCount</a></li><li><a href="#share" class="table-of-contents__link toc-highlight">share</a></li><li><a href="#sharereplay" class="table-of-contents__link toc-highlight">shareReplay</a></li><li><a href="#æ€»ç»“" class="table-of-contents__link toc-highlight">æ€»ç»“</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Koni, Inc.</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.8c0d105b.js"></script>
<script src="/blog/assets/js/main.879787b9.js"></script>
</body>
</html>